<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Chen's blog (Posts about heorku)</title><link>http://redguardtoo.github.io/</link><description></description><atom:link href="http://redguardtoo.github.io/categories/heorku.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Mon, 20 Jan 2025 05:51:34 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>在我的Mac OS X 10.7.3上为heroku开发rails程序</title><link>http://redguardtoo.github.io/posts/zai-wo-de-osx-shang-wei-heroku-kai-fa-rails-chen-xu/</link><dc:creator>Chen Bin</dc:creator><description>&lt;p&gt;rails版本为3.1，OS X版本10.7.3，postgresql版本9.1.3j &lt;/p&gt; &lt;div id="outline-container-1" class="outline-3"&gt; &lt;h4 id="sec-1"&gt;数据库必须用postgresql&lt;/h4&gt; &lt;div class="outline-text-3" id="text-1"&gt;  &lt;p&gt;heroku官方主页反对开发版本用sqlite3而生产版本用postgresql. &lt;/p&gt;&lt;/div&gt;  &lt;/div&gt;  &lt;div id="outline-container-2" class="outline-3"&gt; &lt;h4 id="sec-2"&gt;在OS X 10.7.3上安装postgresql&lt;/h4&gt; &lt;div class="outline-text-3" id="text-2"&gt;  &lt;p&gt;首先,检查你的OS X版本，从10.7开始OS X自带postgresql &lt;/p&gt;   &lt;pre class="src src-sh"&gt;sw_vers -productVersion
&lt;/pre&gt;  &lt;p&gt; 如果要安装最新版的postgresql，必须删除老版本的数据库。具体做法参考&lt;a href="http://nextmarvel.net/blog/2011/09/brew-install-postgresql-on-os-x-lion/"&gt;这篇文章&lt;/a&gt;,实际上也就是一行命令： &lt;/p&gt;   &lt;pre class="src src-sh"&gt;curl http://nextmarvel.net/blog/downloads/fixBrewLionPostgres.sh | sh

&lt;/pre&gt;  &lt;p&gt; 强烈推荐用homebrew安装数据库, &lt;/p&gt;   &lt;pre class="src src-sh"&gt;brew install postgresql

&lt;/pre&gt;  &lt;p&gt; 具体安装细节请参考&lt;a href="http://wiki.postgresql.org/wiki/Detailed_installation_guides"&gt;postgresql官方wiki&lt;/a&gt;. &lt;/p&gt;&lt;/div&gt;  &lt;/div&gt;  &lt;div id="outline-container-3" class="outline-3"&gt; &lt;h4 id="sec-3"&gt;检测已安装的postgresql&lt;/h4&gt; &lt;div class="outline-text-3" id="text-3"&gt;  &lt;p&gt;这里是&lt;a href="http://www.postgresql.org/docs/9.1/interactive/tutorial-createdb.html"&gt;一些数据库基本操作的官方文档&lt;/a&gt;. 可以`psql -l`看一些已有数据库列表. &lt;/p&gt;&lt;/div&gt;  &lt;/div&gt;  &lt;div id="outline-container-4" class="outline-3"&gt; &lt;h4 id="sec-4"&gt;数据库用postgresql的rails项目&lt;/h4&gt; &lt;div class="outline-text-3" id="text-4"&gt;     &lt;pre class="src src-sh"&gt;rails new myapp --database=postgresql

&lt;/pre&gt;  &lt;p&gt; 如果是从一个已经使用sqlite的项目切换数据库，就必须改config/database.yml,有一些catch，请参考&lt;a href="http://stackoverflow.com/questions/8199141/postgres-rake-dbmigrate-fails-with-access-denied-error"&gt;stackoverflow上的讨论&lt;/a&gt;. &lt;/p&gt; &lt;p&gt; 然后,`createdb myapp_development`创建postgresql数据库，`rake db:migrate`建立数据库schema并导入数据在本地数据库.简单测试可证明数据库和web程序可以无缝工作. &lt;/p&gt; &lt;p&gt; 最后不要忘记`git commit`最新代码. &lt;/p&gt;&lt;/div&gt;  &lt;/div&gt;  &lt;div id="outline-container-5" class="outline-3"&gt; &lt;h4 id="sec-5"&gt;部署web程序到heroku&lt;/h4&gt; &lt;div class="outline-text-3" id="text-5"&gt;  &lt;p&gt;请参考&lt;a href="https://devcenter.heroku.com/articles/ruby"&gt;heroku官方文档&lt;/a&gt;,提醒一下不要忘记运行`heroku run rake db:migrate`,否则数据库是空的. &lt;/p&gt; &lt;p&gt; 部署结束后可以运行`heroku open`打开浏览器访问web程序首页. &lt;/p&gt; &lt;p&gt; 如打开网站有问题，可以`heroku logs`查看日志. &lt;/p&gt;&lt;/div&gt; &lt;/div&gt;</description><category>deployment</category><category>heorku</category><category>postgresql</category><category>rails</category><category>zh</category><guid>http://redguardtoo.github.io/posts/zai-wo-de-osx-shang-wei-heroku-kai-fa-rails-chen-xu/</guid><pubDate>Thu, 31 May 2012 14:13:00 GMT</pubDate></item></channel></rss>