<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Emacs, Cooking">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 14) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://redguardtoo.github.io/index-14.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/hao-you-shen-cai-zuo-fa/">蚝油生菜做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-11-17T22:43:00+00:00">2013-11-17 22:43</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/hao-you-shen-cai-zuo-fa/#disqus_thread" data-disqus-identifier="cache/posts/hao-you-shen-cai-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/food/" rel="tag">food</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
材料,
</p>
<ul class="org-ul">
<li>三颗小生菜去根,扳开浸泡15分钟清洗</li>
<li>12蒜瓣(一个蒜头)切末</li>
</ul>
<p>
作法,
</p>
<ul class="org-ul">
<li>生菜焯水(水里放盐味精加底味,给色拉油防变黑),再次开锅10-15秒后取出后沥干</li>
<li>四成热油放蒜末,关火倒15克蚝油搅拌,开大火加一大勺水烧开,多批次加入生粉并搅拌,出锅前淋上葱油</li>
<li>卤汁均地浇在生菜上</li>
</ul>
<p>
<a href="https://www.youtube.com/watch?v=IUhoeM56zP8">Youtube</a> <a href="https://www.dropbox.com/scl/fi/7ag6bu9e23ooxnu0aeqsz">Dropbox</a></p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/memo-on-upgrading-archlinux/">Memo on upgrading ArchLinux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-11-03T23:29:00+00:00">2013-11-03 23:29</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/memo-on-upgrading-archlinux/#disqus_thread" data-disqus-identifier="cache/posts/memo-on-upgrading-archlinux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/gentoo/" rel="tag">gentoo</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/upgrade/" rel="tag">upgrade</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
Run <code>pacman -Syu</code> to upgrade all packages.
</p>
<ul class="org-ul">
<li>Archlinux replaces grub with grub2</li>
<li>I cannot install grub2, blocklists stuff</li>
<li>Downgrade to grub-obsolee</li>
<li>Then grub</li>
<li>Setup (hd0) to install MBR</li>
<li>Restart netbook (make sure the boot priority is right)</li>
</ul>
</div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/notes-on-upgrading-gentoo-linux/">notes on upgrading Gentoo Linux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-26T19:47:54+00:00">2013-10-26 19:47</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/notes-on-upgrading-gentoo-linux/#disqus_thread" data-disqus-identifier="cache/posts/notes-on-upgrading-gentoo-linux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/gentoo/" rel="tag">gentoo</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/upgrade/" rel="tag">upgrade</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p></p>
<pre class="prettyprint ">

sudo emerge --update --deep --with-bdeps=y --newuse world
</pre>



   <ul>
<li>I get notified that some newer version package is required, so I have to manually install those package and re-run the `emerge world` </li> <li>Some package is gone (libreoffice-bin, for example). </li> </ul>
<p> Here is command to manually install package: </p>   


<pre class="prettyprint ">

sudo ebuild /usr/portage/www-client/firefox-bin/firefox-bin-23.0.ebuild unpack compile install qmerge clean
</pre>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-take-screen-shot-for-business-people-efficiently-in-emacs/">How to take screen shot for business people efficiently in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-23T17:31:00+00:00">2013-10-23 17:31</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-take-screen-shot-for-business-people-efficiently-in-emacs/#disqus_thread" data-disqus-identifier="cache/posts/how-to-take-screen-shot-for-business-people-efficiently-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/office/" rel="tag">office</a></li>
           <li><a class="tag p-category" href="categories/org/" rel="tag">org</a></li>
           <li><a class="tag p-category" href="categories/screenshot/" rel="tag">screenshot</a></li>
           <li><a class="tag p-category" href="categories/word/" rel="tag">word</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
CREATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2013-10-23 Wed&gt;</span></span>
</p>

<p>
UPDATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2015-08-11 Tue&gt;</span></span>
</p>
<div id="outline-container-org32db881" class="outline-2">
<h3 id="org32db881">Tools</h3>
<div class="outline-text-2" id="text-org32db881">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
<col class="org-left">
</colgroup>
<thead><tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">Minimum version</th>
</tr></thead>
<tbody>
<tr>
<td class="org-left">Org-mode</td>
<td class="org-left">create org-file which could be converted to odt file</td>
<td class="org-left">7.8</td>
</tr>
<tr>
<td class="org-left">scrot</td>
<td class="org-left">command line tool to take screen shot</td>
<td class="org-left">any version</td>
</tr>
<tr>
<td class="org-left"><a href="https://www.libreoffice.org/download/libreoffice-fresh/">Libreoffice</a></td>
<td class="org-left">convert odt to Microsoft Word</td>
<td class="org-left">any version</td>
</tr>
<tr>
<td class="org-left">xsel</td>
<td class="org-left">X clipboard tool</td>
<td class="org-left">any version</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgd55a601" class="outline-2">
<h3 id="orgd55a601">Work flow</h3>
<div class="outline-text-2" id="text-orgd55a601">
</div>
<div id="outline-container-orgee96df4" class="outline-3">
<h4 id="orgee96df4">Use scrot to screenshot and put its path into clipboard</h4>
<div class="outline-text-3" id="text-orgee96df4">
<div class="org-src-container">

<pre><code class="lang-sh">scrot '%H%M%S-%d_$wx$h.png' -e 'mkdir -p ~/screenshot;mv $f ~/screenshot/;echo ~/screenshot/$f|tr -d \"\\n\"|xsel -ib;'
</code></pre>

</div>
</div>
</div>
<div id="outline-container-org0fd7204" class="outline-3">
<h4 id="org0fd7204">Create org file and insert path of screen shot</h4>
<div class="outline-text-3" id="text-org0fd7204">
<p>
Actually I use below elisp command to do the insertion for me.
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(defun insert-file-link-from-clipboard ()
  "Make sure the full path of file exist in clipboard. This command will convert
The full path into relative path and insert it as a local file link in org-mode"
  (interactive)
  (let (str)
    (with-temp-buffer
      (shell-command
       (cond
        ((eq system-type 'cygwin) "getclip")
        ((eq system-type 'darwin) "pbpaste")
        (t "xsel -ob"))
       1)
      (setq str (buffer-string)))

    ;; convert to relative path (relative to current buffer) if possible
    (let ((m (string-match (file-name-directory (buffer-file-name)) str) ))
      (when m
        (if (= 0 m )
            (setq str (substring str (length (file-name-directory (buffer-file-name)))))
          ))
        (insert (format "[[file:%s]]" str)))
    ))
</code></pre>

</div>
</div>
</div>
<div id="outline-container-org350bf29" class="outline-3">
<h4 id="org350bf29">Convert org file into Microsoft Word format</h4>
<div class="outline-text-3" id="text-org350bf29">
<p>
I'm sure this method works even on Windows. But I don't have Windows PC to validate my belief. Libreoffice is required.
</p>

<p>
Run the command "M-x org-export-as-odt".
</p>

<p>
Word document is <b>automatically created</b> if you insert below code into your ~/.emacs:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">;; This setup is tested on Emacs 24.3 &amp; Emacs 24.4 on Linux/OSX
;; org v7 bundled with Emacs 24.3
(setq org-export-odt-preferred-output-format "doc")
;; org v8 bundled with Emacs 24.4
(setq org-odt-preferred-output-format "doc")
;; BTW, you can assign "pdf" in above variables if you prefer PDF format

;; Only OSX need below setup
(defun my-setup-odt-org-convert-process ()
  (interactive)
  (let ((cmd "/Applications/LibreOffice.app/Contents/MacOS/soffice"))
    (when (and (eq system-type 'darwin) (file-exists-p cmd))
      ;; org v7
      (setq org-export-odt-convert-processes '(("LibreOffice" "/Applications/LibreOffice.app/Contents/MacOS/soffice --headless --convert-to %f%x --outdir %d %i")))
      ;; org v8
      (setq org-odt-convert-processes '(("LibreOffice" "/Applications/LibreOffice.app/Contents/MacOS/soffice --headless --convert-to %f%x --outdir %d %i"))))
    ))
(my-setup-odt-org-convert-process)
</code></pre>

</div>

<p>
Emacs will find the binary "soffice" from libreoffice to do the conversion.
</p>
</div>
</div>
<div id="outline-container-orga42a4bd" class="outline-3">
<h4 id="orga42a4bd">Tips</h4>
<div class="outline-text-3" id="text-orga42a4bd">
<p>
If you need page break in exported document, insert below snippet into the org file:
</p>
<div class="org-src-container">

<pre><code class="lang-html">#+ODT: &lt;text:p text:style-name="PageBreak"/&gt;
</code></pre>

</div>
</div>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-flyspell-in-web-mode/">How to use flyspell in web-mode</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-22T08:54:00+00:00">2013-10-22 08:54</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-use-flyspell-in-web-mode/#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-flyspell-in-web-mode.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
Please see <a href="http://blog.binchen.org/posts/effective-spell-check-in-emacs.html">http://blog.binchen.org/posts/effective-spell-check-in-emacs.html</a> for solution.
</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/suan-miao-chao-niu-rou-zuo-fa/">蒜苗炒牛肉做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-19T19:53:00+00:00">2013-10-19 19:53</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/suan-miao-chao-niu-rou-zuo-fa/#disqus_thread" data-disqus-identifier="cache/posts/suan-miao-chao-niu-rou-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/beef/" rel="tag">beef</a></li>
           <li><a class="tag p-category" href="categories/cuisine/" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/garlic/" rel="tag">garlic</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <ul>
<li>
<a href="http://www.xinshipu.com/%E7%89%9B%E8%82%89%E7%82%92%E8%92%9C%E8%8B%97-83979.htm">菜谱</a> </li> <li>甜面酱本身带盐了 </li> <li>蒜苗可以大火快炒,更嫩一点 </li> </ul>
<p> <img src="wp-content/uploads/2013/10/wpid-stir-fried-beef-and-garlic-stem1.jpg" alt="lightbox"></p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-git-effectively/">How to use git effectively</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-11T12:38:00+00:00">2013-10-11 12:38</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-use-git-effectively/#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-git-effectively.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/bash/" rel="tag">bash</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/git/" rel="tag">git</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
To take the full power of git, you need forget GUI and use CLI only. A little knowledge of script language like Bash/Perl/Python may be helpful.
</p>

<p>
Here is an example how I use git.
</p>
<div id="outline-container-org06d5bbd" class="outline-2">
<h3 id="org06d5bbd">Problem</h3>
<div class="outline-text-2" id="text-org06d5bbd">
<p>
I'm working for a big enterprise project which uses git as version control software.  My daily routine is find what files I changed. So I often use git commands with "–stat" parameters.
</p>

<div class="org-src-container">

<pre><code class="lang-sh">git show --stat
git diff --cached --stat
git log --stat
git diff --stat
</code></pre>

</div>

<p>
Since I use CLI git in bash shell only. I set alias for these commands in bash. For example, I need only type <code>gds</code> in bash instead of <code>git diff --stat</code>.
</p>

<p>
Git commands with "–stat" option usually only display relative paths, so I write some bash function which enable me select that relative path interactively (without using mouse, of course), convert that path to absolute path, and copy that absolute path into clipboard.
</p>

<p>
Getting full path into clipboard is useful because in big projects I need do lots of communication with managers and colleagues. For example, I need list files I changed in our bug tracking system (JIRA) and also email them using Outlook. If you still don't understand why it's hard in big project, let me give you some hint. Big project is usually a big shit. If you edit file A, you will find another 10 files distributed in different location with <b>same file name</b> and <b>similar code</b>. Those files are not your business.
</p>
</div>
</div>
<div id="outline-container-org7fb71b8" class="outline-2">
<h3 id="org7fb71b8">Set up</h3>
<div class="outline-text-2" id="text-org7fb71b8">
<p>
Now you understand the problem. Here comes the solution.
</p>

<p>
Step 1, You need install percol by <code>sudo pip install percol</code>. Percol will provide some interactive UI to help you select the line in shell.
</p>

<p>
Step 2, install xclip under Linux to support paste text into X clipboard. BTW, you did install some clipboard manager under Linux, didn't you?
</p>

<p>
Step 3, insert below code into your ~/.bash:
</p>
<div class="org-src-container">

<pre><code class="lang-sh"># search the file and pop up dialog, then put the full path in clipboard

function pclip() {
    if [ $OS_NAME == CYGWIN ]; then
        putclip $@;
    elif [ $OS_NAME == Darwin ]; then
        pbcopy $@;
    elif [ -x /usr/bin/xclip ]; then
        xclip -selection c $@;
    else
        echo "xclip is not installed!"
    fi
}

function glsf () {
    local str=`git --no-pager log --oneline --decorate --stat $* |percol`
    if [[ $str =~ ^[[:space:]]*([a-z0-9A-Z_.\/-]*).*$ ]]; then
        echo -n ${BASH_REMATCH[1]} |pclip;
        echo ${BASH_REMATCH[1]}
    fi
}

function ff()
{
    # @see http://stackoverflow.com/questions/13373249/extract-substring-using-regexp-in-plain-bash
    local fullpath=$*
    local filename=${fullpath##*/}
    local filter=${fullpath##*./}
    #  only the filename without path is needed
    # filename should be reasonable
    local cli=`find $PWD -type f -iname '*'${filename}'*'|grep ${filter}|percol`
    echo ${cli}
    echo -n ${cli} |pclip;
}
</code></pre>

</div>
</div>
</div>
<div id="outline-container-org7a2a98b" class="outline-2">
<h3 id="org7a2a98b">Usage</h3>
<div class="outline-text-2" id="text-org7a2a98b">
<div class="org-src-container">

<pre><code class="lang-sh">glsf
ff line-from-clipboard
# now I can paste the full path into firefox, outlook ...
</code></pre>

</div>

<p>
Here is the screen cast:
<img src="https://dl.dropboxusercontent.com/u/858862/screencast/git-find-full-path.gif" alt="git-find-full-path.gif"></p>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/san-wen-yu-dun-dou-fu-zuo-fa/">三文鱼炖豆腐做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-02T21:15:00+00:00">2013-10-02 21:15</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/san-wen-yu-dun-dou-fu-zuo-fa/#disqus_thread" data-disqus-identifier="cache/posts/san-wen-yu-dun-dou-fu-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/cuisine/" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/salmon/" rel="tag">salmon</a></li>
           <li><a class="tag p-category" href="categories/soup/" rel="tag">soup</a></li>
           <li><a class="tag p-category" href="categories/toufu/" rel="tag">toufu</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <ul>
<li>
<a href="http://blog.sina.com.cn/s/blog_4cc524d50102dzgv.html">菜谱, 全文如下</a> </li> </ul>
<pre class="example">用料:
三文鱼、老豆腐、面粉、黑胡椒粒、甜椒、葱、



大蒜、姜、松子、香菜、盐、老抽、生抽、糖。



做法：

1: 三文鱼去掉鱼骨，拔出鱼刺，和豆腐切成大小相仿的小块，



并用厨房纸巾稍稍擦干水份，三文鱼块里撒入适量的黑胡椒粒，



放入2勺面粉稍微裹以下;



鱼炖豆腐好吃2字诀-三文鱼炖豆腐



2: 其他材料备好;

鱼炖豆腐好吃2字诀-三文鱼炖豆腐



3: 锅底用姜片擦一遍，放入姜片、三文鱼2面煎黄取出，



再放入豆腐块煎黄;

鱼炖豆腐好吃2字诀-三文鱼炖豆腐



4: 倒入适量老抽上色，生抽、盐、糖、大蒜调味，



一次性倒入足量的开水，大火煮开，中火炖至快干;

鱼炖豆腐好吃2字诀-三文鱼炖豆腐



5: 放入甜椒块翻炒一下，撒入松子、香菜段即可起锅。

鱼炖豆腐好吃2字诀-三文鱼炖豆腐





小牛贴心提示：

1：炖豆腐和鱼，想要好吃，关键要时间，

即是老话所说"千滚的豆腐万滚的鱼";



2：鱼块裹面粉、生姜擦锅都能防止鱼不沾锅;



3：一次性加入足量的开水，中途不要频繁加水。

</pre>  <ul>
<li>生抽至少两大勺,我放得太少 </li> <li>炖得时候我放水太少,一开始就要多放,至少半大碗水 </li> <li>鱼和豆腐煎的黄一点,一开始用纸吸干水份较好,否则油到处溅 </li> <li>老抽没有了,所以颜色很难看 </li> <li>诀窍1,黑胡椒之类的辛香料都是油炸过后才更香 </li> <li>诀窍2,如果做汤的话,鱼和豆腐炖的时间越长越好吃,也有营养 </li> </ul>
<p> <a href="http://www.meishij.net/zuofa/sanwenyudoufutang.html">另附有三文鱼豆腐汤</a>的做法 </p> <p> <img src="wp-content/uploads/2013/10/wpid-salmon-dun-doufu.jpg" alt="http://blog.binchen.org/wp-content/uploads/2013/10/wpid-salmon-dun-doufu.jpg"></p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard/">Copy file name or full path of file from Emacs dired buffer into system clipboard</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-25T20:46:00+00:00">2013-09-25 20:46</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard/#disqus_thread" data-disqus-identifier="cache/posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/clipboard/" rel="tag">clipboard</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>Simple, insert below code into your ~/.emacs: </p>   


<pre class="prettyprint ">

;; {{ copy the file-name/full-path in dired buffer into clipboard

;; `w` =&gt; copy file name

;; `C-u 0 w` =&gt; copy full path

(defadvice dired-copy-filename-as-kill (after dired-filename-to-clipboard activate)
  (with-temp-buffer
    (insert (current-kill 0))
    (shell-command-on-region (point-min) (point-max)
                             (cond
                              ((eq system-type 'cygwin) "putclip")
                              ((eq system-type 'darwin) "pbcopy")
                              (t "xsel -ib")
                              )))
  (message "%s =&gt; clipboard" (current-kill 0))
  )
</pre>


   <p> It support Cygwin and OSX out of the box. You need install xsel under Linux. </p> <p> BTW, I suggest installing a clipboard manager like parcellite under Linux to sync the two X clipboards. </p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/fan-qie-ji-dan-tang-zuo-fa/">番茄鸡蛋汤做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-25T19:54:19+00:00">2013-09-25 19:54</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/fan-qie-ji-dan-tang-zuo-fa/#disqus_thread" data-disqus-identifier="cache/posts/fan-qie-ji-dan-tang-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/cuisine/" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/soup/" rel="tag">soup</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <ul>
<li>放蒜(可以加姜,葱)大火爆炒,也可以加点老抽 </li> <li>放入番茄超出茄红素 </li> <li>加水煮,调味放盐糖 </li> <li>最后放入打碎鸡蛋,五秒钟后起锅 </li> </ul>
<p>有人介绍下面也是类似原理,加葱花老抽爆炒,然后放水煮面 </p>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-15.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-13.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2026         <a href="mailto:chb_sh@hotmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
         document.addEventListener('DOMContentLoaded', function() {
           var items = document.getElementsByClassName('timeago'), e, pd;
           for (var i = 0; i < items.length; i++) {
             e = items[i];
             pd = moment(new Date(e.getAttribute('datetime')));
             e.innerHTML = pd.fromNow();
             e.setAttribute('title', pd.format('LLLL'));
           }
         });
        </script>
</body>
</html>
