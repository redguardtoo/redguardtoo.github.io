<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Linux, Programming, Emacs">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 16) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.binchen.org/index-16.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-ctags-in-emacs-effectively-3/">How to use ctags in Emacs effectively</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-03-11T21:52:00+00:00">2014-03-11 21:52</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-use-ctags-in-emacs-effectively-3/#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-ctags-in-emacs-effectively-3.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/ctags/" rel="tag">ctags</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
CREATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2014-03-11 Tue&gt;</span></span>
</p>

<p>
UPDATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2020-05-26 Tue&gt;</span></span>
</p>

<p>
<a href="http://ctags.sourceforge.net/">Exuberant Ctags</a> is used for code completion and code navigation. It supports many programming languages.
</p>

<p>
Please read <a href="http://www.emacswiki.org/emacs/BuildTags">EmacsWiki</a> for basic usage.
</p>

<p>
Ctags creates an index file named "TAGS". The path of TAGS is stored in a Emacs variable <code>tags-table-list</code>.
</p>

<p>
Example of <code>tags-table-list</code>:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(setq tags-table-list '("~/wxWidgets-master/TAGS" "~/projs/Loris/src/desktop/TAGS"))
</code></pre>

</div>

<p>
When running <code>M-x find-tag</code>, the tag files in <code>tags-table-list</code> is read to find the definition of the symbol under cursor.
</p>

<p>
Here is my strategy to manage TAGS <b>automatically</b>:
</p>
<ul class="org-ul">
<li>I hard coded path of TAGS in <code>.emacs</code> because I don't change project path frequently</li>
<li>In major mode hook like <code>c++-mode-hook</code> or <code>js2-mode-hook</code> I check the path current file. If it matches project name, the file is part of the project</li>
<li>TAGS for the project is created</li>
<li>When saving the file, update TAGS by the value of <code>tags-table-list</code>
</li>
</ul>
<p>
Code:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(defun my-project-name-contains-substring (regex)
  (let ((dir (if (buffer-file-name)
                 (file-name-directory (buffer-file-name))
               "")))
    (string-match-p regex dir)))

(defun my-create-tags-if-needed (SRC-DIR &amp;optional FORCE)
  "Return the full path of tags file."
  (let ((dir (file-name-as-directory (file-truename SRC-DIR)) )
       file)
    (setq file (concat dir "TAGS"))
    (when (or FORCE (not (file-exists-p file)))
      (message "Creating TAGS in %s ..." dir)
      (shell-command
       (format "ctags -f %s -e -R %s" file dir)))
    file))

(defvar my-tags-updated-time nil)

(defun my-update-tags ()
  "Check the tags in tags-table-list and re-create it."
  (interactive)
  (dolist (tag tags-table-list)
    (my-create-tags-if-needed (file-name-directory tag) t)))

(defun my-auto-update-tags-when-save ()
  (interactive)
  (cond
   ((not my-tags-updated-time)
    (setq my-tags-updated-time (current-time)))
   ((&lt; (- (float-time (current-time)) (float-time my-tags-updated-time)) 300)
    ;; &lt; 300 seconds
    ;; do nothing
    )
   (t
    (setq my-tags-updated-time (current-time))
    (my-update-tags)
    (message "updated tags after %d seconds."
             (- (float-time (current-time))
                (float-time my-tags-updated-time))))))

(defun my-setup-develop-environment ()
    (when (my-project-name-contains-substring "Loris")
      (cond
       ((my-project-name-contains-substring "src/desktop")
        ;; C++ project don't need html tags
        (setq tags-table-list
              (list (my-create-tags-if-needed
                     (concat (file-name-as-directory (getenv "WXWIN")) "include"))
                    (my-create-tags-if-needed "~/projs/Loris/loris/src/desktop"))))
       ((my-project-name-contains-substring "src/html")
        ;; html project donot need C++ tags
        (setq tags-table-list (list (my-create-tags-if-needed "~/projs/Loris/loris/src/html")))))))

(add-hook 'after-save-hook 'my-auto-update-tags-when-save)
(add-hook 'js2-mode-hook 'my-setup-develop-environment)
(add-hook 'web-mode-hook 'my-setup-develop-environment)
(add-hook 'c++-mode-hook 'my-setup-develop-environment)
(add-hook 'c-mode-hook 'my-setup-develop-environment)
</code></pre>

</div>

<p>
UPDATE:
Ctags is discussed at <a href="https://plus.google.com/110954683162859211810/posts/NsdzvywuoX3">Google Plus</a>. Kaushal Modi recommended three Emacs plugins:
</p>
<ul class="org-ul">
<li><a href="https://github.com/jixiuf/ctags-update">ctags-update</a></li>
<li><a href="https://www.emacswiki.org/emacs/etags-table.el">etags-table</a></li>
<li><a href="https://www.emacswiki.org/emacs/etags-select.el">etags-select</a></li>
</ul>
<p>
I tried them. My code has same features as <code>ctags-update</code> and <code>etags-table</code>. I prefer my own code because it's simpler and controllable.
</p>

<p>
But I do like <code>etags-select</code>, it provides better UI for finding tag and I will use it from now on.
</p>

<p>
UPDATE:
I have developed my own ctags solution for Emacs,
</p>
<ul class="org-ul">
<li>
<a href="https://github.com/redguardtoo/counsel-etags">counsel-etags</a> for code navigation and imenu</li>
<li>
<a href="https://github.com/redguardtoo/company-ctags">company-ctags</a> for code completion</li>
</ul>
</div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/hack-wordpress-php-and-make-cdnjs-com-host-js/">Hack wordpress php and make cdnjs.com host js</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-03-07T00:58:00+00:00">2014-03-07 00:58</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/hack-wordpress-php-and-make-cdnjs-com-host-js/#disqus_thread" data-disqus-identifier="cache/posts/hack-wordpress-php-and-make-cdnjs-com-host-js.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/blog/" rel="tag">blog</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/javascript/" rel="tag">javascript</a></li>
           <li><a class="tag p-category" href="categories/php/" rel="tag">php</a></li>
           <li><a class="tag p-category" href="categories/wordpress/" rel="tag">wordpress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
For jquery.js, see <a href="http://rk.md/2012/cdnjs-scripts-without-plugin-wordpress/">http://rk.md/2012/cdnjs-scripts-without-plugin-wordpress/</a>.
</p>

<p>
I added below code into bottom of functions.php (Appearance =&gt; Editor):
</p>
<div class="org-src-container">

<pre><code class="lang-php">add_action('wp_enqueue_scripts', 'CDNJS_scripts');
function CDNJS_scripts() 
{
    wp_deregister_script('jquery');
    wp_register_script('jquery','http://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js');
    wp_enqueue_script('jquery');
} 
</code></pre>

</div>

<p>
For js from SyntaxHighlighter Evolved (Plugins =&gt; Installed Plugins =&gt; Edit):
</p>
<div class="org-src-container">

<pre><code class="lang-diff">diff --git a/syntaxhighlighter.php b/syntaxhighlighter.php
index db8c668..e41ec12 100644
--- a/syntaxhighlighter.php
+++ b/syntaxhighlighter.php
@@ -117,30 +117,30 @@ class SyntaxHighlighter {
        }

        // Register brush scripts
-       wp_register_script( 'syntaxhighlighter-core',             plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shCore.js'),            array(),                         $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-as3',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushAS3.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-bash',       plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushBash.js'),       array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-coldfusion', plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushColdFusion.js'), array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-cpp',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushCpp.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-csharp',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushCSharp.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-css',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushCss.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-delphi',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushDelphi.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-diff',       plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushDiff.js'),       array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-erlang',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushErlang.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-groovy',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushGroovy.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-java',       plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushJava.js'),       array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-javafx',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushJavaFX.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-jscript',    plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushJScript.js'),    array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-perl',       plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushPerl.js'),       array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-php',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushPhp.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-plain',      plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushPlain.js'),      array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-powershell', plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushPowerShell.js'), array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-python',     plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushPython.js'),     array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-ruby',       plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushRuby.js'),       array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-scala',      plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushScala.js'),      array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-sql',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushSql.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-vb',         plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushVb.js'),         array('syntaxhighlighter-core'), $this-&gt;agshver );
-       wp_register_script( 'syntaxhighlighter-brush-xml',        plugins_url('syntaxhighlighter/' . $this-&gt;shfolder . '/scripts/shBrushXml.js'),        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-core',             '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.js',            array(),                         $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-as3',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushAS3.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-bash',       '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushBash.js',       array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-coldfusion', '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushColdFusion.js', array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-cpp',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCpp.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-csharp',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCSharp.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-css',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCss.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-delphi',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushDelphi.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-diff',       '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushDiff.js',       array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-erlang',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushErlang.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-groovy',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushGroovy.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-java',       '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJava.js',       array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-javafx',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJavaFX.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-jscript',    '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.js',    array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-perl',       '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPerl.js',       array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-php',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPhp.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-plain',      '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPlain.js',      array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-powershell', '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPowerShell.js', array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-python',     '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPython.js',     array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-ruby',       '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushRuby.js',       array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-scala',      '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushScala.js',      array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-sql',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushSql.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-vb',         '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushVb.js',         array('syntaxhighlighter-core'), $this-&gt;agshver );
+       wp_register_script( 'syntaxhighlighter-brush-xml',        '//cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.js',        array('syntaxhighlighter-core'), $this-&gt;agshver );

        // Register some popular third-party brushes
        wp_register_script( 'syntaxhighlighter-brush-clojure',    plugins_url('syntaxhighlighter/third-party-brushes/shBrushClojure.js'),          array('syntaxhighlighter-core'), '20090602'     );
</code></pre>

</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-org2blog-effectively-as-a-programmer/">How to use org2blog effectively as a programmer</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-03-06T14:25:00+00:00">2014-03-06 14:25</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-use-org2blog-effectively-as-a-programmer/#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-org2blog-effectively-as-a-programmer.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/org/" rel="tag">org</a></li>
           <li><a class="tag p-category" href="categories/wordpress/" rel="tag">wordpress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>
<a href="https://github.com/punchagan/org2blog">org2blog</a> is a beautiful plugin to post to wordpress blog.
</p>

<p>
I won't waste your time on the basic usage because it has zero learning curve and its README is very clear.
</p>

<p>
I will talk some advanced set up here.
</p>

<p>
As a programmer, I need wordpress syntax highlight all the code snippets I post. But it seems org2blog need some tweak to support language like elisp.
</p>

<p>
If you grep org2blog's code, you will find a variable "org2blog/wp-sourcecode-langs". It lists all the languages org2blog supports.
</p>

<p>
So all you need to do is insert below code into ~/.emacs:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(setq org2blog/wp-sourcecode-langs
      '("actionscript3" "bash" "coldfusion" "cpp" "csharp" "css" "delphi"
        "erlang" "fsharp" "diff" "groovy" "javascript" "java" "javafx" "matlab"
        "objc" "perl" "php" "text" "powershell" "python" "ruby" "scala" "sql"
        "vb" "xml"
        "sh" "elisp" "lisp" "lua"))
</code></pre>

</div>

<p>
Then you need install the wordpress plugin <a href="http://www.viper007bond.com/wordpress-plugins/syntaxhighlighter/">SyntaxHighlighter Evolved</a> to do the syntax highlight thing. Well, you will find the languages like elisp is not supported by this plugin.
</p>

<p>
That's easy to fix. Please log into your blog, modify that plugin online:
</p>
<div class="org-src-container">

<pre><code class="lang-diff">diff --git a/syntaxhighlighter.php b/syntaxhighlighter.php
index 53b4815..808b14b 100644
--- a/syntaxhighlighter.php
+++ b/syntaxhighlighter.php
@@ -222,6 +222,11 @@ class SyntaxHighlighter {
            'xslt'          =&gt; 'xml',
            'html'          =&gt; 'xml',
            'xhtml'         =&gt; 'xml',
+           'text'          =&gt; 'clojure',
+           'elisp'         =&gt; 'clojure',
+           'lisp'          =&gt; 'clojure',
+           'sh'            =&gt; 'bash',
+           'lua'           =&gt; 'ruby',
        ) );
</code></pre>

</div>

<p>
As you can see, I use clojure syntax to highlight elisp and use ruby syntax to highlight lua.
</p>

<p>
You may ask why I use clojure syntax to highlight simple text in above set up?
</p>

<p>
Well, I already submit lots of my elisp code before set up my org2blog correctly. Those code snippets are regarded as simple text. I won't waste my time to mark those old snippets one by one. That's why I render text as clojure code.
</p>

<p>
Besides, I find the wordpress theme produced by <a href="http://automattic.com">Automattic</a> (Yes, the company behind wordpress) is good for programmers because they obviously have optimized font size for different screen resolutions. That's important for code reading. I use Trvl v1.0.2.
</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-adapt-my-work-style-to-the-employers-standard-in-emacs/">How to adapt my work style to the employer's standard in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-03-05T10:53:00+00:00">2014-03-05 10:53</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-adapt-my-work-style-to-the-employers-standard-in-emacs/#disqus_thread" data-disqus-identifier="cache/posts/how-to-adapt-my-work-style-to-the-employers-standard-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>I write some set up code in ~/.custom.el. It will detect which machine and what directory I'm working on. Then I hook the set up code when major mode (js2-mode, web-mode, for example) loaded. </p> <p> In my ~/.emacs, </p>   


<pre class="prettyprint lang-lisp">
(if (file-readable-p (expand-file-name "~/.custom.el"))
     (load-file (expand-file-name "~/.custom.el")))
</pre>


   <p> Content of my ~/.custom.el: </p>   


<pre class="prettyprint lang-lisp">
;; (getenv "HOSTNAME") won't work because $HOSTNAME is not an env variable
;; (system-name) won't work because as Optus required, my /etc/hosts is changed
(defun my/at-office ()
  (interactive)
  (let ((my-hostname (with-temp-buffer
                       (shell-command "hostname" t)
                       (goto-char (point-max))
                       (delete-char -1)
                       (buffer-string))
                     ))
    (and (string= my-hostname "my-sydney-workpc")
         (not (or (string= my-hostname "sydneypc")
                  (string= my-hostname "ChenBinMacAir")
                  (string= my-hostname "eee")
                  )))
    ))

(defun my/use-office-style ()
  (interactive)
  (let ((dir (if (buffer-file-name)
                 (file-name-directory (buffer-file-name))
               "")))
    (string-match-p "CompanyProject" dir)
    ))

(defun my/setup-develop-environment ()
  (cond
   ((my/use-office-style)
    (message "Office code style!")
    (setq coffee-tab-width 4)
    (setq javascript-indent-level 4)
    (setq js-indent-level 4)
    (setq js2-basic-offset 4)
    (setq web-mode-indent-style 4))
   (t
    (message "My code style!")
    (setq coffee-tab-width 4)
    (setq javascript-indent-level 2)
    (setq js-indent-level 2)
    (setq js2-basic-offset 2)
    (setq web-mode-indent-style 2))
   ))

(add-hook 'js2-mode-hook 'my/setup-develop-environment)
(add-hook 'web-mode-hook 'my/setup-develop-environment)
</pre>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/my-answer-to-how-do-you-use-emacs-without-a-directory-tree-on-the-side-of-the-editor-on-quora-com/">My answer to "How do you use Emacs without a directory tree on the side of the editor?" on quora.com</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-19T21:40:00+00:00">2014-02-19 21:40</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/my-answer-to-how-do-you-use-emacs-without-a-directory-tree-on-the-side-of-the-editor-on-quora-com/#disqus_thread" data-disqus-identifier="cache/posts/my-answer-to-how-do-you-use-emacs-without-a-directory-tree-on-the-side-of-the-editor-on-quora-com.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/bash/" rel="tag">bash</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>This is <a href="http://www.quora.com/Emacs/How-do-you-use-Emacs-without-a-directory-tree-on-the-side-of-the-editor">original link of the question</a>. Please note I focus on programming for large projects. I need search/grep/modify files scattered in different places without documentation. </p> <p> If your use case is different, a embedded file explorer may be a better choice </p>  <div id="outline-container-1" class="outline-3"> <h4 id="sec-1">Tools I use to replace a file explorer</h4> <div class="outline-text-3" id="text-1">  <ol>
<li>ido-find-file (emacs), just type any characters, it will fuzz search matched file in parent/sibling/current/or-whatever directory.  </li> <li>helm-find-file (emacs), this one use regular expression and has bigger window  </li> <li>recentf and helm (emacs), I use regular expression open recent opened files.  </li> <li>ctags, gtags or whatever tag tools (CLI tool), as mentioned by other people  </li> <li>I also use lots of bash functions written by myself, those functions are trivial, but combined with a wonderful tool called percol, they become really powerful.  </li> <li>I use some CLI clipboard tool so I can easily share the file path between terminal/emacs/firefox.  </li> <li>there is also a emacs bundled feature called speedbar, which is similar to the file explorer, I used it once, but it does not fit in my ninja style ;) It's fine but the UI is almost same to those average text editors.  </li> <li>I also write some elisp snippets, for example, convert absolute path to relative path; given one relative path, output one absolute path, etc …  </li> <li>there is also some git based emacs plugin: you can search file under the project root directory.  </li> <li>there is a CLI tool called fasd which can let you interactively select the file or folder you recently visited.  </li> <li>many other tools, plug-ins, code snippets I can use … </li> </ol>
</div>  </div>  <div id="outline-container-2" class="outline-3"> <h4 id="sec-2">Use case</h4> <div class="outline-text-3" id="text-2">  <ol>
<li>I need search a big project for a certain library (it's a freemarker file I need include) whose full path I don't know, I just search the API's name by type: </li> </ol>
<p>"gef keyword *". gef is my bash function based on grep. </p>
<ol>
<li>matched files are displayed instantly (grep is much more quick than IDEs, BTW) in a interactive console filter (use percol), I type a regular expression to filter file name and press enter </li> <li>the full path is in clipboard now, then I type ":e Shift-insert" to open that file. </li> </ol>
<p>This is the most difficult case, I usually strike less keys and not get out of Emacs. </p>
<ol>
<li>If i need insert this file's relative path, I press a hot key and another emacs plugin will correctly convert absolute path to relative one (relative to the file I'm editing in Emacs) and insert it into my editor. </li> </ol>
</div>  </div>  <div id="outline-container-3" class="outline-3"> <h4 id="sec-3">Demo</h4> <div class="outline-text-3" id="text-3">  <p>Here is screen cast. In this demo I grepped and open a ftl file and then search another js file in the same project. <img src="wp-content/uploads/2014/02/wpid-emacs-grep-search-open-file.gif" alt="http://blog.binchen.org/wp-content/uploads/2014/02/wpid-emacs-grep-search-open-file.gif"></p>
</div> </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/one-liner-to-download-and-extract-emacs-lisp-source-code/">One liner to download and install emacs lisp source code</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-18T11:56:00+00:00">2014-02-18 11:56</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/one-liner-to-download-and-extract-emacs-lisp-source-code/#disqus_thread" data-disqus-identifier="cache/posts/one-liner-to-download-and-extract-emacs-lisp-source-code.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>Run the below command in shell, </p>   


<pre class="prettyprint ">

curl http://ftp.gnu.org/gnu/emacs/emacs-`emacs --version|head -n1|sed 's/[^0-9.]*\([0-9]\+\.[0-9]\+\).*/\1/g'`.tar.gz | sudo tar --exclude=admin/* --exclude=etc/* --exclude=nt/* --exclude=doc/* --exclude=leim/* -C /usr/share/emacs/`emacs --version|head -n1|sed 's/[^0-9.]*\([0-9]\+\.[0-9]\+\).*/\1/g'`/lisp/ --strip-components=2 --wildcards -zxv *.el
</pre>



   <p> For example, after installing the lisp code. You can `M-x find-function package-list-packages` in Emacs, you will jump to the definition of that command in "/usr/share/emacs/24.3/lisp/emacs-lisp/package.el" (I assume your emacs version is 24.3). </p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/add-current-directory-into-load-path-in-emacs/">Add current directory into load-path in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-17T13:24:23+00:00">2014-02-17 13:24</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/add-current-directory-into-load-path-in-emacs/#disqus_thread" data-disqus-identifier="cache/posts/add-current-directory-into-load-path-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/elisp/" rel="tag">elisp</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/programming/" rel="tag">programming</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>Useful when developing emacs plugin: </p>

<pre class="prettyprint lang-lisp">
(defun add-pwd-into-load-path ()
  "add current directory into load-path, useful for elisp developers"
  (interactive)
  (let ((dir (expand-file-name default-directory)))
    (if (not (memq dir load-path))
        (add-to-list 'load-path dir)
        )
    (message "Directory added into load-path:%s" dir)
    )
  )
</pre>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/code-rush/">Code Rush</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-14T17:12:00+00:00">2014-02-14 17:12</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/code-rush/#disqus_thread" data-disqus-identifier="cache/posts/code-rush.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/engineering/" rel="tag">engineering</a></li>
           <li><a class="tag p-category" href="categories/firefox/" rel="tag">firefox</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>小结,代码库庞大,质量有问题,招了一些废物.M Toy:"我们不是要痛扁谁…". 1998年3月31日,Netscape公开其源代码. </p> <table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption> <colgroup>
<col class="left">
<col class="left">
</colgroup>
<thead><tr>
<th scope="col" class="left">人名</th>
<th scope="col" class="left">背景</th>
</tr></thead>
<tbody>
<tr>
<td class="left"><a href="http://en.wikipedia.org/wiki/Jamie_Zawinski">Jamie Zawinski</a></td>
<td class="left">黑客,擅长C/Perl/Lisp,不喜欢C++,XEmacs开发者,Netscape早期版本开发者)解释源代码的意义.注意键盘符合人体工程学.</td>
</tr>
<tr>
<td class="left"><a href="http://en.wikipedia.org/wiki/Michael_Toy">Michael Toy</a></td>
<td class="left">牢游戏Rogue的开发者,该游戏被PC World杂志2009年评为史上最伟大PC游戏第六,是Diablo的老祖宗,Netscape最早员工</td>
</tr>
<tr>
<td class="left"><a href="http://en.wikipedia.org/wiki/Jim_Barksdale">Jim Barksdale</a></td>
<td class="left">CEO</td>
</tr>
<tr>
<td class="left"><a href="http://www.linkedin.com/pub/jim-roskind/0/20/195">Jim Roskind</a></td>
<td class="left">Security Expert,开发大型软件,很麻烦.还说了一大堆屁话.</td>
</tr>
<tr>
<td class="left">Scott Collins</td>
<td class="left">值夜班,惨透了.</td>
</tr>
<tr>
<td class="left"><a href="http://en.wikipedia.org/wiki/Brendan_Eich">Brendan Eich</a></td>
<td class="left">javascript</td>
</tr>
<tr>
<td class="left"><a href="http://www.linkedin.com/pub/jeff-weinstein/b/869/433">Jeff Weinstein</a></td>
<td class="left">programmer at Netscape.并不是Netscape最优秀的员工.嘿嘿.</td>
</tr>
<tr>
<td class="left">Tara Hernandez</td>
<td class="left">QA</td>
</tr>
<tr>
<td class="left"><a href="http://en.wikipedia.org/wiki/Blake_Ross">Blake Ross</a></td>
<td class="left"><a href="http://www.insanely-great.com/news.php?id=3993">http://www.insanely-great.com/news.php?id=3993</a></td>
</tr>
</tbody>
</table>
</div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/">My answer to "What are some must-have emacs additions" on quora.com</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-13T19:44:00+00:00">2014-02-13 19:44</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#disqus_thread" data-disqus-identifier="cache/posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/addon/" rel="tag">addon</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/plugin/" rel="tag">plugin</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div id="table-of-contents"> <h3>Table of Contents</h3> <div id="text-table-of-contents"> <ul>
<li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-1">1. Warning</a></li> <li>
<a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2">2. third party plugins</a> <ul>
<li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-1">2.1. company-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-2">2.2. yasnippet</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-3">2.3. js2-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-4">2.4. evil-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-5">2.5. evil-leader</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-6">2.6. evil-matchit (written by me)</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-7">2.7. evil-nerd-commenter (written by me)</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-8">2.8. helm</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-9">2.9. web-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-10">2.10. windows-numbering.el</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-2-11">2.11. smex</a></li> </ul>
</li> <li>
<a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3">3. plugins bundled with emacs 24</a> <ul>
<li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-1">3.1. org-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-2">3.2. winner-mode</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-3">3.3. gnus</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-4">3.4. ido</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-5">3.5. imenu</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-6">3.6. flymake</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-3-7">3.7. flyspell</a></li> </ul>
</li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-4">4. The last and best plugin</a></li> <li><a href="posts/my-answer-to-what-are-some-must-have-emacs-additions-on-quora-com/#sec-5">5. Tip</a></li> </ul>
</div> </div> <p> This is my answer for <a href="http://www.quora.com/Emacs/What-are-some-must-have-additions-to-your-emacs-file">What are some must-have additions to your .emacs file?</a> on quora.com. </p>  <p> Emacs 24 is already bundled with a package manager. So you can download and install the package without leaving Emacs. See <a href="http://www.emacswiki.org/emacs/ELPA">http://www.emacswiki.org/emacs/ELPA</a> for how to set up. </p>  <p> If you want to know more tips about specific plugin. Please search its name in <a href="http://www.emacswiki.org">Emacswiki</a>. </p>  <div id="outline-container-sec-1" class="outline-2"> <h3 id="sec-1">
<span class="section-number-2">1</span> Warning</h3> <div class="outline-text-2" id="text-1"> <p> I'm a web programmer, so my focus could be different from other emacs users. </p> </div> </div> <div id="outline-container-sec-2" class="outline-2"> <h3 id="sec-2">
<span class="section-number-2">2</span> third party plugins</h3> <div class="outline-text-2" id="text-2"> </div>
<div id="outline-container-sec-2-1" class="outline-3"> <h4 id="sec-2-1">
<span class="section-number-3">2.1</span> company-mode</h4> <div class="outline-text-3" id="text-2-1"> <p> auto completing code, it requires less key typing than another emacs plugin auto-complete. Besides, it's actively maintained  </p> </div> </div>  <div id="outline-container-sec-2-2" class="outline-3"> <h4 id="sec-2-2">
<span class="section-number-3">2.2</span> yasnippet</h4> <div class="outline-text-3" id="text-2-2"> <p> insert template </p> </div> </div>  <div id="outline-container-sec-2-3" class="outline-3"> <h4 id="sec-2-3">
<span class="section-number-3">2.3</span> js2-mode</h4> <div class="outline-text-3" id="text-2-3"> <p> javascript development, best of the best </p> </div> </div>  <div id="outline-container-sec-2-4" class="outline-3"> <h4 id="sec-2-4">
<span class="section-number-3">2.4</span> evil-mode</h4> <div class="outline-text-3" id="text-2-4"> <p> vim simulator, I cannot live without it as a vi guy </p> </div> </div>  <div id="outline-container-sec-2-5" class="outline-3"> <h4 id="sec-2-5">
<span class="section-number-3">2.5</span> evil-leader</h4> <div class="outline-text-3" id="text-2-5"> <p> evil's plugin, simple and powerful if you realize that ALL the hot keys (for example, I map "M-x" to ",mx") can be re-mapped with it </p> </div> </div>  <div id="outline-container-sec-2-6" class="outline-3"> <h4 id="sec-2-6">
<span class="section-number-3">2.6</span> evil-matchit (written by me)</h4> <div class="outline-text-3" id="text-2-6"> <p> jump between tag pair, port of  vim matchit </p> </div> </div>  <div id="outline-container-sec-2-7" class="outline-3"> <h4 id="sec-2-7">
<span class="section-number-3">2.7</span> evil-nerd-commenter (written by me)</h4> <div class="outline-text-3" id="text-2-7"> <p> (un)comment by lines,  port of nerd-comment </p> </div> </div>  <div id="outline-container-sec-2-8" class="outline-3"> <h4 id="sec-2-8">
<span class="section-number-3">2.8</span> helm</h4> <div class="outline-text-3" id="text-2-8"> <p> hard to describe but powerful </p> </div> </div>  <div id="outline-container-sec-2-9" class="outline-3"> <h4 id="sec-2-9">
<span class="section-number-3">2.9</span> web-mode</h4> <div class="outline-text-3" id="text-2-9"> <p> major-mode for all html templates </p> </div> </div>  <div id="outline-container-sec-2-10" class="outline-3"> <h4 id="sec-2-10">
<span class="section-number-3">2.10</span> windows-numbering.el</h4> <div class="outline-text-3" id="text-2-10"> <p> sub-window navigation, best one. well, it occupies hotkey from M-1 to M-9, For normal emacs user this could be issue. but I'm evil guy;) </p> </div> </div>  <div id="outline-container-sec-2-11" class="outline-3"> <h4 id="sec-2-11">
<span class="section-number-3">2.11</span> smex</h4> <div class="outline-text-3" id="text-2-11"> <p> you don't need remember hot key or command any more </p> </div> </div> </div> <div id="outline-container-sec-3" class="outline-2"> <h3 id="sec-3">
<span class="section-number-2">3</span> plugins bundled with emacs 24</h3> <div class="outline-text-2" id="text-3"> </div>
<div id="outline-container-sec-3-1" class="outline-3"> <h4 id="sec-3-1">
<span class="section-number-3">3.1</span> org-mode</h4> <div class="outline-text-3" id="text-3-1"> <p> gtd tool, it changed my life, as git,vim,emacs did to me ages ago. </p> </div> </div>  <div id="outline-container-sec-3-2" class="outline-3"> <h4 id="sec-3-2">
<span class="section-number-3">3.2</span> winner-mode</h4> <div class="outline-text-3" id="text-3-2"> <p> undo sub window-layout </p> </div> </div>  <div id="outline-container-sec-3-3" class="outline-3"> <h4 id="sec-3-3">
<span class="section-number-3">3.3</span> gnus</h4> <div class="outline-text-3" id="text-3-3"> <p> hate and love it. the UI is too geek. but has some killer feature,  for example, forward email, send email quickly, attach file. but the point is I can use with other awesome plugins like yasnippet, company-mode,evil. </p> </div> </div>  <div id="outline-container-sec-3-4" class="outline-3"> <h4 id="sec-3-4">
<span class="section-number-3">3.4</span> ido</h4> <div class="outline-text-3" id="text-3-4"> <p> similar to helm, my tip, you can tell helm when to use ido, when to use helm. </p> </div> </div>  <div id="outline-container-sec-3-5" class="outline-3"> <h4 id="sec-3-5">
<span class="section-number-3">3.5</span> imenu</h4> <div class="outline-text-3" id="text-3-5"> <p> display list of function in current buffer, the point is it is programmable </p> </div> </div>  <div id="outline-container-sec-3-6" class="outline-3"> <h4 id="sec-3-6">
<span class="section-number-3">3.6</span> flymake</h4> <div class="outline-text-3" id="text-3-6"> <p> real time syntax check </p> </div> </div>  <div id="outline-container-sec-3-7" class="outline-3"> <h4 id="sec-3-7">
<span class="section-number-3">3.7</span> flyspell</h4> <div class="outline-text-3" id="text-3-7"> <p> best spell checker, if you know how to do programming for it </p> </div> </div> </div> <div id="outline-container-sec-4" class="outline-2"> <h3 id="sec-4">
<span class="section-number-2">4</span> The last and best plugin</h3> <div class="outline-text-2" id="text-4"> <p> Lisp! </p> <ul class="org-ul">
<li>simple </li> <li>no learning curve, </li> <li>it's syntax ensure that its plugin developer are experienced developers who knows at least three programming languages. </li> </ul>
</div> </div> <div id="outline-container-sec-5" class="outline-2"> <h3 id="sec-5">
<span class="section-number-2">5</span> Tip</h3> <div class="outline-text-2" id="text-5"> <p> If I find some awesome plugin, I will investigate the original author and make sure what other tools he/she uses or develops </p>  <p> For example, mooz maintains js2-mode, he also developed: </p> <dl class="org-dl">
<dt> keysnail </dt>
<dd>firefox is converted into Emacs, best one in similar tools (I tried 3 or 2 similar firefox/chrome addons before settled on keysnail) </dd> <dt> percol </dt>
<dd>A genius utility for shell operation. Make me ten times faster when working in bash shell. Without it, I will quit my programming career immediately. </dd> </dl>
</div> </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-do-htmljavascript-repl-read-eval-print-loop-with-no-server-set-up-2/">How to do HTML/Javascript REPL (Read–eval–print loop) with NO server set up</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-10T21:56:00+00:00">2014-02-10 21:56</time>
</div>
                <div class="stats">
                    
    
    <a href="posts/how-to-do-htmljavascript-repl-read-eval-print-loop-with-no-server-set-up-2/#disqus_thread" data-disqus-identifier="cache/posts/how-to-do-htmljavascript-repl-read-eval-print-loop-with-no-server-set-up-2.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/frontend/" rel="tag">frontend</a></li>
           <li><a class="tag p-category" href="categories/html/" rel="tag">html</a></li>
           <li><a class="tag p-category" href="categories/javascript/" rel="tag">javascript</a></li>
           <li><a class="tag p-category" href="categories/repl/" rel="tag">repl</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div id="outline-container-orgf6f7bee" class="outline-2">
<h3 id="orgf6f7bee">Problem</h3>
<div class="outline-text-2" id="text-orgf6f7bee">
<p>
I love the REPL (Read–eval–print loop). Watch live update of web page when typing code is cool.
</p>

<p>
But most solutions around the internet are not practical for me.
</p>

<p>
In my world, I never has a chance to develop fancy 2D/3D games written in HTML5 canvas.
</p>

<p>
Instead, I was <b>ALWAYS</b> assigned to maintain some enterprise CMS with complex business logic. For example, after refreshing the web page I need click lots of buttons before doing the job. Avoiding press "refresh page button" does not help much.
</p>

<p>
Besides, I can't use the embedded server those solutions boasted because our web application has many dependencies. It needs a whole environment support team to set it up. There is no way I can persuade the team to use a different web server
</p>

<p>
For me, a practical solution must be:
</p>
<ul class="org-ul">
<li>easy to set up</li>
<li>powerful. I can read/write any part of the web page in my text editor</li>
<li>no learning curve. I don't want to learn any domain specific language or API. For example, if my web application uses jquery, I want <b>use and only use jquery API</b> to manipulate web page in my text editor. If it use backbone, then I use backbone. No more, no less.</li>
</ul>
</div>
</div>
<div id="outline-container-org2a092de" class="outline-2">
<h3 id="org2a092de">Solution</h3>
<div class="outline-text-2" id="text-org2a092de">
<p>
The best solution is firefox addon <a href="https://github.com/bard/mozrepl/wiki">MozRepl</a>. You can install it <a href="https://addons.mozilla.org">https://addons.mozilla.org</a>. Click firefox menu "Tools =&gt; MozRepl =&gt; Start" to run it.
<img src="wp-content/moz-repl-start-nq8.png" alt="moz-repl-start-nq8.png"></p>

<p>
So what is MozRepl, as its web site says, "MozRepl lets you program Firefox and other Mozilla-based applications <b>from the inside</b>." Basically it convert firefox into a socket server. Your text editor could talk to firefox and let firefox do anything you want. Since it only interact with the firefox, I don't need mess with the web server.
</p>

<p>
Well, I hope I can end this article by claiming "after reading its <a href="https://github.com/bard/mozrepl/wiki/Tutorial">official tutorial</a>,I live happily with MozRepl ever after".
</p>

<p>
The ugly truth is, MozRepl has some rough edges. That's the reason why I write this article. I will explain how to use MozRepl in next two sections.
</p>

<p>
Section 1 is about how to use MozRepl, whatever text editor you use, you should read this section.
</p>

<p>
Section 2 is on how to set up my text editor Emacs to interact with MozRepl. It's optional.
</p>
</div>

<div id="outline-container-org7c66bc6" class="outline-3">
<h4 id="org7c66bc6">Section 1, use MozRepl</h4>
<div class="outline-text-3" id="text-org7c66bc6">
<p>
Here are key points:
</p>
<ul class="org-ul">
<li>You need read above official tutorial at least once</li>

<li>There is video demo on youtube. I suggest watching from <a href="http://www.youtube.com/watch?v=5RSnHN6S52c#t=137">2:18</a> because you possibly are more interested in manipulating web page than toy with firefox internals.</li>
<li>web page is called "content" in MozRepl</li>
<li>In order to execute your javascript code with exactly same syntax as your web application is running code "repl.enter(content);" at first line, as you can see in both video and text tutorial</li>
<li>Use firefox 24.0+ and MozRepl 1.1.2+</li>
<li>For some weird reason, MozRepl socket server needs some warm up after web page refreshed. So run the code like "console.log('hello');" in the first connection, close the connection, and run your other code in second connection.</li>
<li>For code running in MozRepl, if one line will trigger some AJAX request, all the code just after that line <b>will not</b> be executed. Use javascript API "setTimeout' to work around this issue.</li>
</ul>
<p>
Here is a complete example (note how I use setTimeout) written in javascript,
</p>
<div class="org-src-container">

<pre><code class="lang-javascript">$('#serviceId').val('0451235550');
$('#serviceId').keyup();
console.log('hi');
setTimeout(function(){
  console.log('world');
  $('input[value="1"][name="isAccountHolder"]').click();
  $('#accountNumber').val('01234567891234');
  setTimeout(function(){
    $('#registrationLoginEmailAddress').val('cb@cb.cb');
    $('#registrationLoginEmailAddress2').val('cb@cb.cb');
    $('#password').val('Password1');
    $('#passwordConfirm').val('Password1');
    $('#title').val('Mr');
    $('#serviceFirstName').val('chen');
    $('#serviceLastName').val('bin');
    $('#registrationLoginDetailsContinueBtn').click();
  },2000);
  $('#serviceAccountContinueBtn').click();
},3000);
$('#confirmServiceBtn').click();
</code></pre>

</div>

<p>
As you can see from above, I can use jQuery API loaded in that web page without any problem. Of course, you can always use vanilla javascript instead.
</p>

<p>
Please note the code is not part of my web application! It will be run only in MozRepl. You can telnet to the MozRepl socket server (127.0.0.1 with port 4424) and copy paste above code line by line.
</p>
</div>
</div>

<div id="outline-container-org3eae6e4" class="outline-3">
<h4 id="org3eae6e4">Section 2, set up text editor (Emacs)</h4>
<div class="outline-text-3" id="text-org3eae6e4">
<p>
My text editor is Emacs, so I use Emacs as an example.
</p>

<p>
Step 1, install moz.el according to <a href="https://github.com/bard/mozrepl/wiki/Emacs-integration">official manual</a>.
</p>

<p>
Step 2, Please insert below code into your ~/.emacs:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(defun moz-goto-content-and-run-cmd (cmd)
  (comint-send-string (inferior-moz-process)
                      (concat "repl.enter(content);"
                              cmd
                              "repl.back();")))

(setq moz-repl-js-dir (expand-file-name "~/moz-repl-js-dir"))

(defun moz--read-file (js-file)
  (with-temp-buffer
    (insert-file-contents js-file)
    (buffer-string)))

(defun moz--load-js-file (js-file)
  (let (cmd )
    (when (file-exists-p js-file)
      ;; make moz API usable in any major-mode
      (moz-minor-mode 1)
      ;; flush mozrepl at first
      (moz-goto-content-and-run-cmd "console.log('hello');")
      ;; read the content of js-file
      (setq cmd (moz--read-file js-file))
      (moz-goto-content-and-run-cmd cmd))))

(defun moz-load-js-file-and-send-it ()
  "load js file from specific directory and send it to mozrepl"
  (interactive)
  (let ((js-file (read-file-name "js file:" moz-repl-js-dir)))
    (moz--load-js-file js-file)
    ))
</code></pre>

</div>

<p>
From now on, you only need "M-x moz-load-js-file-and-send-it" and select the js file you need MozRepl to run.
</p>
</div>
</div>
</div>
<div id="outline-container-org5fc7759" class="outline-2">
<h3 id="org5fc7759">Tips</h3>
<div class="outline-text-2" id="text-org5fc7759">
</div>
<div id="outline-container-orgfdb41ff" class="outline-3">
<h4 id="orgfdb41ff">Tip 1</h4>
<div class="outline-text-3" id="text-orgfdb41ff">
<p>
Well, this is a simple tip. Maybe you are already aware of this.
</p>

<p>
You can write a all-in-one.js. In all-in-one.js, you can parse the URL to separate logic for different project.
</p>

<p>
Here is javascript code,
</p>
<div class="org-src-container">

<pre><code class="lang-javascript">var url=document.URL;
if(/^.*mycompany\.com\.au.*my-account\/registration/.test(url)){
   console.log("for regitration module");
} else if (/^.*mycompany\.com\.au.*my-account\/my-profile/.test(url)) {
   console.log("for profile module");
}
</code></pre>

</div>

<p>
Since javascript is good at analyzing URL, you can also tweak the URL parameters. Anyway, the full power of javascript is at your hand.
</p>
</div>
</div>

<div id="outline-container-orge4dac92" class="outline-3">
<h4 id="orge4dac92">Tip 2</h4>
<div class="outline-text-3" id="text-orge4dac92">
<p>
Sometimes mozrepl will be unresponsive. You can test it by running "M-x moz-reload-browser" to refresh the page. If page is not refreshed, restart Firefox. Luckily this does not happen too often.
</p>

<div class="org-src-container">

<pre><code class="lang-lisp">(defun moz-reload-browser ()
  (interactive)
  (comint-send-string (inferior-moz-process)
                      "setTimeout(function(){content.document.location.reload(true);}, '500');"))
</code></pre>

</div>
</div>
</div>
</div>

<div id="outline-container-orgaa8b9cf" class="outline-2">
<h3 id="orgaa8b9cf">Demo</h3>
<div class="outline-text-2" id="text-orgaa8b9cf">
<p>
Here is a demo how I use it in a real world web application development.
</p>

<p>
The script to drive the firefox is written in simple javascript/jquery code, which I already show you.
</p>


<div id="orga9d5139" class="figure">
<p><img src="wp-content/mozrepl-in-action.gif" alt="mozrepl-in-action.gif"></p>
</div>
</div>
</div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-17.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-15.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2025         <a href="mailto:chenbin.sh@gmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
         document.addEventListener('DOMContentLoaded', function() {
           var items = document.getElementsByClassName('timeago'), e, pd;
           for (var i = 0; i < items.length; i++) {
             e = items[i];
             pd = moment(new Date(e.getAttribute('datetime')));
             e.innerHTML = pd.fromNow();
             e.setAttribute('title', pd.format('LLLL'));
           }
         });
        </script>
</body>
</html>
