<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Linux, Programming, Emacs">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 3) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.binchen.org/index-3.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/yi-nian-cheng-wei-emacs-gao-shou-xiang-shen-yi-yang-shi-yong-bian-ji-qi.html">一年成为Emacs高手(像神一样使用编辑器)</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-31T15:08:00+00:00">2012-01-31 15:08</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/yi-nian-cheng-wei-emacs-gao-shou-xiang-shen-yi-yang-shi-yong-bian-ji-qi.html#disqus_thread" data-disqus-identifier="cache/posts/yi-nian-cheng-wei-emacs-gao-shou-xiang-shen-yi-yang-shi-yong-bian-ji-qi.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>本页面停止更新,最新版本在GitHub上 (<a href="https://github.com/redguardtoo/mastering-emacs-in-one-year-guide">https://github.com/redguardtoo/mastering-emacs-in-one-year-guide</a>)</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/hotkeys-for-moving-windows-in-emacs.html">Hotkeys for moving windows in emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-31T11:26:00+00:00">2012-01-31 11:26</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/hotkeys-for-moving-windows-in-emacs.html#disqus_thread" data-disqus-identifier="cache/posts/hotkeys-for-moving-windows-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
See <a href="http://www.emacswiki.org/emacs/WindMove">http://www.emacswiki.org/emacs/WindMove</a> for details.
</p>

<p>
My hotkeys are different from EmacsWiki because:
</p>

<ul class="org-ul">
<li>As a vi guy I prefer H,J,K,L for navigation</li>
<li>Arrow keys does not work on my terminal simulators</li>
</ul>
<p>
Here is setup:
</p>

<div class="org-src-container">

<pre><code class="lang-lisp">(when (fboundp 'windmove-left)
  (global-set-key "\C-ch" 'windmove-left)
  (global-set-key "\C-cj" 'windmove-down)
  (global-set-key "\C-ck" 'windmove-up)
  (global-set-key "\C-cl" 'windmove-right))
</code></pre>

</div>

<p>
Note:
<code>C-c j</code> is original assigned to <code>join-line</code>.
</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/copypaste-in-emacs.html">Copy/Paste in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-30T10:52:00+00:00">2012-01-30 10:52</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/copypaste-in-emacs.html#disqus_thread" data-disqus-identifier="cache/posts/copypaste-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/clipboard.html" rel="tag">clipboard</a></li>
           <li><a class="tag p-category" href="categories/cygwin.html" rel="tag">cygwin</a></li>
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
CREATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2012-01-30 Mon&gt;</span></span>
</p>

<p>
UPDATED: <span class="timestamp-wrapper"><span class="timestamp">&lt;2018-06-04 Mon&gt;</span></span>
</p>

<div id="outline-container-org0d4c108" class="outline-2">
<h3 id="org0d4c108">Prepare</h3>
<div class="outline-text-2" id="text-org0d4c108">
<p>
At Linux, <a href="http://www.vergenet.net/~conrad/software/xsel/">xsel</a> is required.
</p>

<p>
At Cygwin, please install package <code>cygutils-extra</code>.
</p>

<p>
At macOS, no external tool is required.
</p>

<p>
At Windows 10 Linux Subsystem, no external tool is required.
</p>
</div>
</div>

<div id="outline-container-orgcce5a09" class="outline-2">
<h3 id="orgcce5a09">Solution</h3>
<div class="outline-text-2" id="text-orgcce5a09">
<p>
This solution works reliably in <b>any environment</b>.
</p>

<p>
Insert below code into <code>~/.emacs</code>. Run <code>M-x paste-from-xclipboard</code> to paste.
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(defun my-gclip ()
  "Get clipboard content."
  (cond
   ((eq system-type 'darwin)
    (with-output-to-string
      (with-current-buffer standard-output
        (call-process "/usr/bin/pbpaste" nil t nil "-Prefer" "txt"))))
   ((eq system-type 'cygwin)
    (with-output-to-string
      (with-current-buffer standard-output
        (call-process "getclip" nil t nil))))
   ((memq system-type '(gnu gnu/linux gnu/kfreebsd))
    (let* ((powershell-program (executable-find "powershell.exe")))
           (cond
            (powershell-program
             ;; PowerLine adds extra white space character at the end of text
             (string-trim-right
              (with-output-to-string
                (with-current-buffer standard-output
                  (call-process powershell-program nil t nil "-command" "Get-Clipboard")))))
            (t
             (with-output-to-string
               (with-current-buffer standard-output
                 (call-process "xsel" nil t nil "--clipboard" "--output")))))))))

(defun my-pclip (str-val)
  "Copy STR-VAL into clipboard."
  (cond
   ((eq system-type 'darwin)
    (with-temp-buffer
      (insert str-val)
      (call-process-region (point-min) (point-max) "/usr/bin/pbcopy")))
   ((eq system-type 'cygwin)
    (with-temp-buffer
      (insert str-val)
      (call-process-region (point-min) (point-max) "putclip")))
   ((memq system-type '(gnu gnu/linux gnu/kfreebsd))
    (let* ((win64-clip-program (executable-find "clip.exe")))
      (with-temp-buffer
        (insert str-val)
        (cond
         ;; Linux Subsystem on Windows 10
         (win64-clip-program
          (call-process-region (point-min) (point-max) win64-clip-program))
         (t
          (call-process-region (point-min) (point-max) "xsel" nil nil nil "--clipboard" "--input"))))))))

(defun paste-from-x-clipboard(&amp;optional n)
  "Paste string clipboard."
  (interactive "P")
  ;; paste after the cursor in evil normal state
  (when (and (functionp 'evil-normal-state-p)
             (functionp 'evil-move-cursor-back)
             (evil-normal-state-p)
             (not (eolp))
             (not (eobp)))
    (forward-char))
  (insert (my-gclip)))

(add-hook 'minibuffer-setup-hook
          (lambda ()
            (local-set-key (kbd "M-y") 'paste-from-xclipboard)))
</code></pre>

</div>

<p>
My actual setup is more robust. See <a href="https://github.com/redguardtoo/emacs.d/blob/master/lisp/init-clipboard.el">https://github.com/redguardtoo/emacs.d/blob/master/lisp/init-clipboard.el</a> for details.
</p>
</div>
</div>

<div id="outline-container-org35a7127" class="outline-2">
<h3 id="org35a7127">Tips</h3>
<div class="outline-text-2" id="text-org35a7127">
</div>
<div id="outline-container-orgc8be853" class="outline-3">
<h4 id="orgc8be853">Clipboard manager</h4>
<div class="outline-text-3" id="text-orgc8be853">
<p>
I suggest <a href="http://parcellite.sourceforge.net/">Parcellite</a> on Linux, <a href="http://ditto-cp.sourceforge.net/">Ditto</a> on Windows, <a href="https://github.com/TermiT/Flycut">Flycut</a> on macOS.
</p>

<p>
My parcellite setup ($HOME/.config/parcellite/parcelliterc):
</p>
<div class="org-src-container">

<pre><code class="lang-ini">[rc]
use_copy=true
use_primary=true
synchronize=true
save_history=true
history_limit=64
hyperlinks_only=false
confirm_clear=false
single_line=true
reverse_history=false
item_length=50
ellipsize=2
history_key=&lt;Super&gt;Y
actions_key=
menu_key=
history_pos=false
history_x=1
history_y=1
case_search=false
type_search=false
data_size=0
ignore_whiteonly=false
trim_wspace_begend=false
trim_newline=false
</code></pre>

</div>
</div>
</div>
<div id="outline-container-org046bbb7" class="outline-3">
<h4 id="org046bbb7">Clipboard in ssh</h4>
<div class="outline-text-3" id="text-org046bbb7">
<p>
Use <code>ssh -X -C username@some-server.whatever.domain</code>.
</p>
</div>
</div>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/the-most-important-features-of-midnight-commander-mc.html">The most important features of Midnight Commander (MC)</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-23T08:29:00+00:00">2012-01-23 08:29</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/the-most-important-features-of-midnight-commander-mc.html#disqus_thread" data-disqus-identifier="cache/posts/the-most-important-features-of-midnight-commander-mc.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/mc.html" rel="tag">mc</a></li>
           <li><a class="tag p-category" href="categories/tc.html" rel="tag">tc</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Since I was a big fan of <a href="http://www.ghisler.com">Total Commander (TC)</a>, I priorize the MC's feature according to my TC's experience. </p> <p> Here is the list (C = Ctrl, M = Alt, S = Shift): </p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption> <colgroup>
<col class="left">
<col class="left">
<col class="left">
</colgroup>
<thead><tr>
<th scope="col" class="left">Feature</th>
<th scope="col" class="left">MC</th>
<th scope="col" class="left">TC</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Bookmark</td>
<td class="left">C-\, then "New Entry"</td>
<td class="left">C-D</td>
</tr>
<tr>
<td class="left">Quick Search</td>
<td class="left">C-s or M-s</td>
<td class="left">C-M-first<sub>character</sub><sub>of</sub><sub>file</sub><sub>name</sub>
</td>
</tr>
<tr>
<td class="left">Find File</td>
<td class="left">M-?</td>
<td class="left">M-F7</td>
</tr>
<tr>
<td class="left">Select Files by Pattern</td>
<td class="left">+ (- will unselect files)</td>
<td class="left">C-F12</td>
</tr>
<tr>
<td class="left">Mkdir</td>
<td class="left">F7</td>
<td class="left">F7</td>
</tr>
<tr>
<td class="left">Create New File with Vim</td>
<td class="left">Shift-F4</td>
<td class="left">Shift-F4</td>
</tr>
<tr>
<td class="left">Edit File with Vi</td>
<td class="left">F4 (See <a href="http://www.cyberciti.biz/tips/midnightcommander-set-vi-as-default-editor-viewer.html">Use vi as Default Editor)</a>
</td>
<td class="left">F4 (need configuration)</td>
</tr>
<tr>
<td class="left">View File</td>
<td class="left">F3</td>
<td class="left">F3</td>
</tr>
<tr>
<td class="left">Copy File Name</td>
<td class="left">M-w (See <a href="https://www.midnight-commander.org/browser/misc/mc.keymap.emacs">mc.keymail.emacs</a>
</td>
<td class="left">No hotkey</td>
</tr>
<tr>
<td class="left">Copy Full Path to CLI</td>
<td class="left">C-S-Enter</td>
<td class="left">Don't know</td>
</tr>
<tr>
<td class="left">Directory History</td>
<td class="left">M-h (actually history of all the commands</td>
<td class="left">Don't know</td>
</tr>
</tbody>
</table>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/start-wxwdigets-programming-on-windows.html">Start wxWdigets programming on Windows</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-18T14:28:00+00:00">2012-01-18 14:28</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/start-wxwdigets-programming-on-windows.html#disqus_thread" data-disqus-identifier="cache/posts/start-wxwdigets-programming-on-windows.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/win32.html" rel="tag">win32</a></li>
           <li><a class="tag p-category" href="categories/wxwidgets.html" rel="tag">wxwidgets</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<ul class="org-ul">
<li>Download <a href="http://wwww.wxwdigets.org">wxWidgets</a>
</li>
<li>Extracted it somewhere. "c:\wxWidgets-3.0.0", for example.</li>
<li>Create environment variable WXWIN with value "c:\wxWidgets-3.3.0"</li>
<li>Install Visual Studio Express 2010</li>
<li>If the source is on network drive, <a href="http://social.msdn.microsoft.com/Forums/vstudio/en-US/07ba35be-d0c7-4989-9bc1-edff61bfb556/fatal-error-c1085-cannot-write-precompiled-header-file?forum=vclanguage">you need set pch directory</a>. Maybe the best way is use local folder.</li>
<li>Compile wxWidgets library by running the dos batch file:</li>
</ul>
<div class="org-src-container">

<pre><code class="lang-sh">@echo off
call "C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
nmake -f %WXWIN%\build\msw\makefile.vc BUILD=debug
nmake -f %WXWIN%\build\msw\makefile.vc BUILD=release
</code></pre>

</div>

<p>
We use vcvars32.bat to set up the CLI tool chains.
</p>

<ul class="org-ul">
<li>Install <a href="http://www.cmake.org">CMake</a>
</li>
<li>Create a simple project with files main.cpp, main.hpp, and CMakeLists.txt</li>
</ul>
<p>
CMakeLists.txt is the project file for CMake:
</p>

<div class="org-src-container">

<pre><code class="lang-cmake">PROJECT(main)
CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

# sets variable SOURCES to the project source files.
set(XRCS
  main_frame.xrc
  )

set(XRCS_DIR ${main_SOURCE_DIR}/rc)

if(CMAKE_COMPILER_IS_GNUCC)
  # needed for gcc 4.6+
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fpermissive")
endif()

set( CPP_SOURCES
  main.cpp
  )

set( H_SOURCES
    main.hpp
    )
  )

set(SOURCES
  ${CPP_SOURCES}
  ${H_SOURCES}
  )

# xrc -&gt; xml, adv, html
set(wxWidgets_USE_LIBS xrc xml adv html core base)
find_package(wxWidgets REQUIRED)
include(${wxWidgets_USE_FILE})

#try to embed resource
foreach(XRC ${XRCS})
  string(REGEX REPLACE "[.].*$" ".h" XRC_HEADER ${XRC})
  set(XRC_HEADER ${CMAKE_CURRENT_BINARY_DIR}/${XRC_HEADER})
  set(XRC ${XRCS_DIR}/${XRC})
  add_custom_command(OUTPUT ${XRC_HEADER}
    COMMAND bin2c -c ${XRC} ${XRC_HEADER}
    MAIN_DEPENDENCY ${XRC} )
  set(SOURCES ${SOURCES} ${XRC_HEADER})
endforeach(XRC)

set(INC
  )

if(UNIX AND NOT APPLE)
  include(FindPkgConfig)
  pkg_check_modules(GTK2 REQUIRED gtk+-2.0&gt;=2.10)
  set(INC ${INC} ${GTK2_INCLUDE_DIRS})
endif()

#add other librarie
include_directories(${INC})

if(UNIX)
  add_definitions(-Wno-write-strings)
endif()

if(WIN32)
  # WIN32 := subsystem is windows instead of console?
  add_executable(main WIN32 ${SOURCES})
else(WIN32)
  add_executable(main ${SOURCES})
endif()

set(LIBS
  ${wxWidgets_LIBRARIES}
  )

if(MINGW AND WIN32)
  set(LIBS ${LIBS} ole32 uuid oleaut32)
endif()
target_link_libraries(main ${LIBS})
</code></pre>

</div>

<ul class="org-ul">
<li>Running the below dos batch the create Visual Studio Project Files</li>
</ul>
<div class="org-src-container">

<pre><code class="lang-sh">@echo off
call "C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
cmake path/of/directory/which/contains/CMakeLists.txt/
</code></pre>

</div>

<ul class="org-ul">
<li>Enjoy!</li>
</ul>
<p>
BTW, for other systems, see <a href="http://wiki.wxwidgets.org/Compiling_wxWidgets_using_the_command-line_(Terminal)">wxWiki</a>.
</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/always-turn-on-fpermissive-for-gcc-4-6.html">Always turn on "-fpermissive" for GCC 4.6</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-14T18:38:00+00:00">2012-01-14 18:38</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/always-turn-on-fpermissive-for-gcc-4-6.html#disqus_thread" data-disqus-identifier="cache/posts/always-turn-on-fpermissive-for-gcc-4-6.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/cmake.html" rel="tag">cmake</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/gcc.html" rel="tag">gcc</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
Below code will get error message if compiled by gcc 4.6+:
</p>

<pre class="example">
"const A" as 'this' argument of "void A::a()' discards qualifiers [-fpermissive]
</pre>

<div class="org-src-container">

<pre><code class="lang-c">class A
{
   void a();
}
class B
{
   virtual void b() const;
}
class MyClass:public B
{
  A _a;
  virtual b() const
  {
    _a.a(); //gcc complains here!
  }
}
</code></pre>

</div>

<p>
Since I cannot modify class A and B, I need add "-fpermission" to CXX_FLAG.
Here is my <a href="http://www.cmake.org">cmake</a> code,
</p>

<div class="org-src-container">

<pre><code class="lang-cmake">if(CMAKE_COMPILER_IS_GNUCC)
  # needed for gcc 4.6+
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fpermissive")
endif()
</code></pre>

</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/clean-up-emacs-mode-line-for-tiny-netbook.html">Clean up emacs mode line for tiny netbook</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-13T16:56:00+00:00">2012-01-13 16:56</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/clean-up-emacs-mode-line-for-tiny-netbook.html#disqus_thread" data-disqus-identifier="cache/posts/clean-up-emacs-mode-line-for-tiny-netbook.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
In Emacs, status bar at the bottom of the buffer is called the <a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Mode-Line-Format.html">mode-line</a>.
</p>

<p>
It contains too much information for me because my screen is tiny (I use the netbook <a href="http://en.wikipedia.org/wiki/Asus_Eee_PC">Eee PC 701</a> whose LCD resolution is 800x480).
</p>

<p>
For example, org-mode will append some information at the mode-line which is beyond my tiny screen.
</p>

<p>
See <a href="http://emacs-fu.blogspot.com/2011/08/customizing-mode-line.html">customizing the mode-line</a> for the solution to clean up the mode-line.
</p>

<p>
But there is one problem. The variable <code>global-mode-string</code> is missing in mode-line. So my favorite org-mode trick <code>M-x org-timer-set-timer</code> won't work.
</p>

<p>
Here is my fixed version.
</p>

<ul class="org-ul">
<li>screenshot</li>
</ul>
<div class="figure">
<p><img src="wp-content/2012-01-14-034733-800x480.png" alt="2012-01-14-034733-800x480.png"></p>
</div>

<ul class="org-ul">
<li>Emacs Lisp code</li>
</ul>
<div class="org-src-container">

<pre><code class="lang-lisp">;; @see http://emacs-fu.blogspot.com/2011/08/customizing-mode-line.html
;; But I need global-mode-string,
;; @see http://www.delorie.com/gnu/docs/elisp-manual-21/elisp_360.html
;; use setq-default to set it for /all/ modes
(setq-default mode-line-format
  (list
    ;; the buffer name; the file name as a tool tip
    '(:eval (propertize "%b " 'face 'font-lock-keyword-face
        'help-echo (buffer-file-name)))

    ;; line and column
    "(" ;; '%02' to set to 2 chars at least; prevents flickering
      (propertize "%02l" 'face 'font-lock-type-face) ","
      (propertize "%02c" 'face 'font-lock-type-face)
    ") "

    ;; relative position, size of file
    "["
    (propertize "%p" 'face 'font-lock-constant-face) ;; % above top
    "/"
    (propertize "%I" 'face 'font-lock-constant-face) ;; size
    "] "

    ;; the current major mode for the buffer.
    "["

    '(:eval (propertize "%m" 'face 'font-lock-string-face
              'help-echo buffer-file-coding-system))
    "] "


    "[" ;; insert vs overwrite mode, input-method in a tooltip
    '(:eval (propertize (if overwrite-mode "Ovr" "Ins")
              'face 'font-lock-preprocessor-face
              'help-echo (concat "Buffer is in "
                           (if overwrite-mode "overwrite" "insert") " mode")))

    ;; was this buffer modified since the last save?
    '(:eval (when (buffer-modified-p)
              (concat ","  (propertize "Mod"
                             'face 'font-lock-warning-face
                             'help-echo "Buffer has been modified"))))

    ;; is this buffer read-only?
    '(:eval (when buffer-read-only
              (concat ","  (propertize "RO"
                             'face 'font-lock-type-face
                             'help-echo "Buffer is read-only"))))
    "] "

    ;;global-mode-string, org-timer-set-timer in org-mode need this
    (propertize "%M" 'face 'font-lock-type-face)

    " --"
    ;; i don't want to see minor-modes; but if you want, uncomment this:
    ;; minor-mode-alist  ;; list of minor modes
    "%-" ;; fill with '-'
    ))
</code></pre>

</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/wei-shen-men-chen-xu-yaun-chuang-ye-de-xiao-shi-gong-zi-shi-1000yuan-xiao-shi.html">为什么程序员创业的小时工资是1000$/小时</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2012-01-12T13:17:00+00:00">2012-01-12 13:17</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/wei-shen-men-chen-xu-yaun-chuang-ye-de-xiao-shi-gong-zi-shi-1000yuan-xiao-shi.html#disqus_thread" data-disqus-identifier="cache/posts/wei-shen-men-chen-xu-yaun-chuang-ye-de-xiao-shi-gong-zi-shi-1000yuan-xiao-shi.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/startup.html" rel="tag">startup</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>读了<a href="http://blog.asmartbear.com">A Smart Bear</a>的两篇文章后的简写. </p> <p> 第一篇,<a href="http://blog.asmartbear.com/value-time">你的时间价值1000$每小时</a>: </p>
<ul>
<li>如果你投资自己的时间做一个金钱回报在未来的项目,项目成功概率不是100%,你得假设你的小时工资是你1000$每小时 </li> <li>简单数学计算的结果,回报X概率/项目开发时间 </li> <li>否则还不如做别人的项目. </li> <li>结论是你的时间非常宝贵,必需只用来做最重要的事. </li> </ul>
<p> 第二篇,<a href="http://blog.asmartbear.com/virtual-assistant-startup.html">尽可能外包是唯一解决之道</a>: </p>
<ul>
<li>只要可能,尽量外包,唯一例外是你的核心代码 </li> <li>程序员有自动化任务的习惯,很多时候和人力外包相比不值得 </li> <li>记住你的小时工资是1000$每小时 </li> <li>例如,做市场/技术方案调查时,很多工作可以外包.节省的金钱时间是惊人的. </li> <li>设定任务和最后期限及具体的流程 </li> <li>作者偏爱菲律宾人,因为英语好,盗窃知识产权的风险不大 </li> </ul>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/ncdu-best-disk-usage-analyzer-under-linux.html">ncdu, Best disk usage analyzer under Linux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-12-30T10:50:00+00:00">2011-12-30 10:50</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/ncdu-best-disk-usage-analyzer-under-linux.html#disqus_thread" data-disqus-identifier="cache/posts/ncdu-best-disk-usage-analyzer-under-linux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/disk.html" rel="tag">disk</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/usage.html" rel="tag">usage</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
The size of the package is only 56K. UI is simple.
</p>

<p>
Use <code>j</code> or <code>k</code> to navigate.
</p>

<p>
Information:
</p>

<pre class="example">
Name           : ncdu
Version        : 1.8-1
URL            : http://dev.yorhel.nl/ncdu/
Licenses       : custom:MIT
Depends On     : ncurses
Packager       : Gaetan Bisson &lt;bisson@archlinux.org&gt;
Description    : Disk usage analyzer with an ncurses interface
</pre>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/pin-gu-le-emacs-xia-zhi-chi-intellisense-de-ji-ge-fang-an.html">评估了Emacs下支持intellisense的几个方案</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-12-29T16:26:00+00:00">2011-12-29 16:26</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/pin-gu-le-emacs-xia-zhi-chi-intellisense-de-ji-ge-fang-an.html#disqus_thread" data-disqus-identifier="cache/posts/pin-gu-le-emacs-xia-zhi-chi-intellisense-de-ji-ge-fang-an.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/intellisense.html" rel="tag">intellisense</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>  我的结论,Emacs23自带的semantic简单可用. </p> <div id="outline-container-1" class="outline-3"> <h4 id="sec-1">Cedet1.0</h4> <div class="outline-text-3" id="text-1">  <p>   (require 'semantic-ia)后一些函数可用. </p> <p>    我没有试出来,和我安装的emacs是terminal版本有关(Cedet下的semantic-ia需要一个GUI介面的popup-menu). </p> <p>    这也是游人探讨<a href="http://www.emacswiki.org/emacs/AutoComplete">Auto Complete</a>接合semantic-ia的原因,因为AutoComplete已经完美实现了popup-menu. </p> <p>    缺点,semantic做后台语法解析的时候emacs会失去响应几妙种(我的硬件配置很好,intel i3 双核,4G内存),有时候会导致emacs退出. </p> </div>  </div>  <div id="outline-container-2" class="outline-3"> <h4 id="sec-2">Emacs23自带的semantic</h4> <div class="outline-text-3" id="text-2">  <p>   没有semantic-ia. </p> <p>    semantic-analyze-possible-completion(快捷键为C-c , l)较符合要求,可惜这个函数只是打印候选字符串在另一个buffer.需用hippie-expand(快捷键为M-/)选择. </p> <p>    启动semantic-mode在emacs23中很简单,M-x semantic-mode即可. </p> </div>  </div>  <div id="outline-container-3" class="outline-3"> <h4 id="sec-3">Clang</h4> <div class="outline-text-3" id="text-3">  <p>   速度极快,<a href="http://www.emacswiki.org/emacs/AutoComplete">AutoComplete</a> 上有几个接合Clang和AutoComple的方案(<a href="https://llvm.org/svn/llvm-project/cfe/trunk/utils/clang-completion-mode.el">其中一个</a> 为clang官方提供演示原理,我不建议使用). </p> <p>    通过elpa安装auto-complete-clang,试用后非常完美,智能且响应速度极快,支持Mac/Cygwin/Linux. </p> <p>    如果做语法实时检查,可以用flymake,需要提供完整的CXXFLAG给clang.如果用CMake生成Makefile的话,可在flags.make中轻易得到. </p> <p>    顺便说一下,我个人非常喜爱CMake,是构建打包配置管理的最佳工具.我以后所有的C++项目都将用CMake. </p>
</div> </div> </div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-4.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2020         <a href="mailto:chenbin.sh@gmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
         document.addEventListener('DOMContentLoaded', function() {
           var items = document.getElementsByClassName('timeago'), e, pd;
           for (var i = 0; i < items.length; i++) {
             e = items[i];
             pd = moment(new Date(e.getAttribute('datetime')));
             e.innerHTML = pd.fromNow();
             e.setAttribute('title', pd.format('LLLL'));
           }
         });
        </script>
</body>
</html>
