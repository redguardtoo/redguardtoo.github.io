<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Linux, Programming, Emacs">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 7) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.binchen.org/index-7.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/start-wxwidgets-programming-on-linux/">Start wxWidgets programming on Linux/OSX</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-02-26T09:17:00+00:00">2013-02-26 09:17</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/start-wxwidgets-programming-on-linux/#disqus_thread" data-disqus-identifier="cache/posts/start-wxwidgets-programming-on-linux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/wxwidgets/" rel="tag">wxwidgets</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
wxWidgets 3.0.0
</p>

<p>
WARNING: before building, please make sure remove everything in build directory, <b>including hidden directory</b>!
</p>

<div id="outline-container-org1a0821a" class="outline-2">
<h3 id="org1a0821a">Install webkit by using Linux distribution's package manager</h3>
<div class="outline-text-2" id="text-org1a0821a">
<p>
I need use wxWebView which dependent on webkit on Linux. The issue here is that webkit on Linux is using GTK.
</p>

<p>
Make sure the webkit and wxWidgets are using same version of GTK.
</p>
</div>
</div>

<div id="outline-container-orge7a336a" class="outline-2">
<h3 id="orge7a336a">build the source</h3>
<div class="outline-text-2" id="text-orge7a336a">
<p>
Please note I don't use libtiff. I think libpng and libjpeg is enough.
</p>
<div class="org-src-container">

<pre><code class="lang-sh">mkdir -p ${WXWIN}/build-release;cd ${WXWIN}/build-release;../configure --disable-shared --without-libtiff;make
mkdir -p ${WXWIN}/build-debug;cd ${WXWIN}/build-debug;../configure --disable-shared --enable-debug --without-libtiff;make
</code></pre>

</div>

<p>
On OSX, I need extra <code>--with-osx_cocoa</code> parameter for configure.
</p>

<p>
On Linux, build will be fine following above steps. But for building application, I need <code>sudo apt-get install libgtk2.0-dev</code> on Debian/Ubuntu/Mint.
</p>
</div>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/notes-to-install-gentoo-linux/">Notes to install Gentoo Linux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-02-25T02:22:00+00:00">2013-02-25 02:22</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/notes-to-install-gentoo-linux/#disqus_thread" data-disqus-identifier="cache/posts/notes-to-install-gentoo-linux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/gentoo/" rel="tag">gentoo</a></li>
           <li><a class="tag p-category" href="categories/install/" rel="tag">install</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<div id="outline-container-orga502432" class="outline-2">
<h3 id="orga502432">Intel integrated video card</h3>
<div class="outline-text-2" id="text-orga502432">
<p>
Enable KMS (Kernel Mode Setting) for Intel (Device Drivers =&gt; Graphic =&gt; Intel) is critical:
</p>
<div class="org-src-container">

<pre><code class="lang-sh">sudo genkernel --menuconfig all
</code></pre>

</div>
</div>
</div>

<div id="outline-container-orga575eeb" class="outline-2">
<h3 id="orga575eeb">Grub2</h3>
<div class="outline-text-2" id="text-orga575eeb">
<p>
Let grub2 create the cfg for me automatically,
</p>
<div class="org-src-container">

<pre><code class="lang-sh">grub2-mkconfig -o /boot/grub/grub.cfg
</code></pre>

</div>
</div>
</div>

<div id="outline-container-org928e3d3" class="outline-2">
<h3 id="org928e3d3">Network</h3>
<div class="outline-text-2" id="text-org928e3d3">
</div>
<div id="outline-container-org149bfc1" class="outline-3">
<h4 id="org149bfc1">Ethernet</h4>
<div class="outline-text-3" id="text-org149bfc1">
<div class="org-src-container">

<pre><code class="lang-sh">#net.lo should exist! if NOT, `emerge --ask --oneshot net-misc/netifrc`
# @see https://wiki.gentoo.org/wiki/Netifrc
ln -s /etc/init.d/net.lo /etc/init.d/net.eth0
echo 'config_eth0="dhcp"' &gt;&gt; /etc/conf.d/net
/etc/init.d/net.eth0 start
rc-update add net.eth0 default
</code></pre>

</div>
</div>
</div>

<div id="outline-container-org9a1c8ab" class="outline-3">
<h4 id="org9a1c8ab">Wireless (wifi)</h4>
<div class="outline-text-3" id="text-org9a1c8ab">
<div class="org-src-container">

<pre><code class="lang-sh">#net.lo should exist! if NOT, `emerge --ask --oneshot net-misc/netifrc`
# @see https://wiki.gentoo.org/wiki/Netifrc
# I need setup /etc/wpa_supplicant/wpa_supplicant.conf at first
ln -s /etc/init.d/net.lo /etc/init.d/net.ra0
echo 'config_ra0="dhcp"' &gt;&gt; /etc/conf.d/net
/etc/init.d/net.ra0 start
rc-update add net.ra0 default
</code></pre>

</div>

<p>
Content of /etc/wpa_supplicant/wpa_supplicant.conf:
</p>
<div class="org-src-container">

<pre><code class="lang-ini">#let wpa_supplicant take care of scanning and AP selection
ap_scan=1

#simple case: WPA-PSK, PPSK as an simple passphrase
network={
  ssid="myssid"
  psk="mypassword"
  # the higher priority the sooner we matched
  priority=5
}
</code></pre>

</div>

<p>
For kernel 3.17.*+, by default wpa_supplicant use <code>nl80211</code> driver instead of <code>wext</code>.
</p>

<p>
We need for it use <code>wext</code> instead. To double check <code>wext</code> does work,
</p>
<div class="org-src-container">

<pre><code class="lang-sh">sudo wpa_supplicant -dd -B -i ra0 -Dwext -c /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

</div>

<p>
But OpenRC script does not have <code>-Dwext</code>,
</p>
<div class="org-src-container">

<pre><code class="lang-sh"># as root
cd /lib;grep -rsn --exclude-dir=/home "Starting wpa_supplicant on" *
# netifrc/net/wpa_supplicant.sh:85: ebegin "Starting wpa_supplicant on ${IF
# VAR}"
</code></pre>

</div>

<p>
Modify /lib/netifrc/net/wpa_supplicant.sh to for it use wext,
</p>
<div class="org-src-container">

<pre><code class="lang-sh">opts="-Dwext ${opts} -c ${cfgfile}"
</code></pre>

</div>
</div>
</div>
</div>

<div id="outline-container-orgf6cd20f" class="outline-2">
<h3 id="orgf6cd20f">Clock Synchronization</h3>
<div class="outline-text-2" id="text-orgf6cd20f">
<p>
<a href="http://en.gentoo-wiki.com/wiki/Time_Synchronization#htpdate">htpdate</a> is great because it only use HTTP protocol, don't forget add server in its config file.
</p>
</div>
</div>

<div id="outline-container-org6e20b54" class="outline-2">
<h3 id="org6e20b54">Sound</h3>
<div class="outline-text-2" id="text-org6e20b54">
<p>
Nothing to tell. There may be some issue, but I forgot.</p>
</div>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/find-files-provided-by-the-installed-package/">Find files provided by the installed package</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-02-18T17:34:00+00:00">2013-02-18 17:34</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/find-files-provided-by-the-installed-package/#disqus_thread" data-disqus-identifier="cache/posts/find-files-provided-by-the-installed-package.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux/" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/manager/" rel="tag">manager</a></li>
           <li><a class="tag p-category" href="categories/package/" rel="tag">package</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div class="org-src-container">

<pre><code class="lang-sh">dpkg -L emacs # Debian/Ubuntu
pacman -Ql emacs # ArchLinux
rpm -qlp emacs # Redhat/Centos
cygcheck -l emacs # Cygwin
brew ls --verbose emacs # Homebrew
equery f emacs # Gentoo Linux, you need install gentoolkit
gem contents zurb-foundation # Ruby gem
</code></pre>

</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/moving-focus-and-buffer-between-emacs-window/">Moving focus and buffer between Emacs window</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-02-03T14:19:00+00:00">2013-02-03 14:19</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/moving-focus-and-buffer-between-emacs-window/#disqus_thread" data-disqus-identifier="cache/posts/moving-focus-and-buffer-between-emacs-window.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/buffer/" rel="tag">buffer</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/move/" rel="tag">move</a></li>
           <li><a class="tag p-category" href="categories/window/" rel="tag">window</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
Please read the excellent article <a href="http://irreal.org/blog/?p=1562">Moving between Emacs windows</a> for basic setup.
</p>

<p>
Here is my summary of that article:
</p>

<ul class="org-ul">
<li>you can use <code>windmove.el</code> (embedded in Emacs). Its hotkey is Shift+Arrow</li>
<li>
<a href="https://github.com/dimitri/switch-window">switch-window.el</a> is great. The default hot key is <code>C-x o</code>
</li>
</ul>
<p>
I also use other packages which is more efficient.
</p>

<div id="outline-container-org76be974" class="outline-2">
<h3 id="org76be974">window-numbering.el</h3>
<div class="outline-text-2" id="text-org76be974">
<p>
<a href="https://github.com/nschum/window-numbering.el">window-numbering.el</a> is <b>great</b>. It uses hot key <code>M-number</code> to switch window (for example, <code>M-3</code> to select window with number 3). So I can press only <b>one</b> key to switch window. Besides, it has some extra features like <code>M-0</code> to jump to the minibuffer.
</p>

<p>
Here is my configuration for <code>window-numbering.el</code>:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(require 'window-numbering)
;; highlight the window number in pink color
(custom-set-faces '(window-numbering-face ((t (:foreground "DeepPink" :underline "DeepPink" :weight bold)))))
(window-numbering-mode 1)
</code></pre>

</div>
</div>
</div>

<div id="outline-container-orgeb700fd" class="outline-2">
<h3 id="orgeb700fd">Evil</h3>
<div class="outline-text-2" id="text-orgeb700fd">
<p>
<a href="http://emacswiki.org/emacs/Evil">Evil</a> is a vim-emulation. It use vim's keybindings <code>C-w h/j/k/l</code> to move. Please note <code>C-w h</code> is more efficient than <code>C-x o</code>. It's because <code>w</code> key is more close than <code>x</code> key and <code>h/j/k/l</code> is easy to press.
</p>
</div>
</div>

<div id="outline-container-org7210d00" class="outline-2">
<h3 id="org7210d00">buffer-move.el</h3>
<div class="outline-text-2" id="text-org7210d00">
<p>
<a href="http://www.emacswiki.org/cgi-bin/wiki/buffer-move.el">buffer-move.el</a> moves the buffer instead of focus between windows. It can be installed through <a href="http://melpa.milkbox.net/">MELPA</a>.
</p>

<p>
Here is my configuration:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(global-set-key (kbd "C-c C-b C-k") 'buf-move-up)
(global-set-key (kbd "C-c C-b C-j") 'buf-move-down)
(global-set-key (kbd "C-c C-b C-h") 'buf-move-left)
(global-set-key (kbd "C-c C-b C-l") 'buf-move-right)
</code></pre>

</div>
</div>
</div>

<div id="outline-container-orgbde004a" class="outline-2">
<h3 id="orgbde004a">Optimization</h3>
<div class="outline-text-2" id="text-orgbde004a">
<p>
I use <a href="https://github.com/dacap/keyfreq">keyfreq</a> to record all my key pressing for <b>more than six months</b>.
</p>

<p>
According to the data collected by keyfreq, more than 99 percent of my moving focus between windows is done through <b>window-numbering.el</b>.
</p>

<p>
So it's necessary to optimize window-numbering.el further. By default, window-numbering.el uses <code>M-num</code> key to select window which is already efficient. But as a geek, I have a tendency to push the efficiency to the extreme end.
</p>

<p>
Finally I use hotkey <code>,1</code>, <code>,2</code>, and <code>,3</code> to switch to the window numbering <code>1</code>, <code>2</code>, and <code>3</code>.
</p>

<p>
Here is the code:
</p>
<div class="org-src-container">

<pre><code class="lang-lisp">(define-key evil-normal-state-map ",1" 'select-window-1)
(define-key evil-normal-state-map ",2" 'select-window-2)
(define-key evil-normal-state-map ",3" 'select-window-3)
(define-key evil-normal-state-map ",4" 'select-window-4)
</code></pre>

</div>

<p>
Check <a href="https://github.com/redguardtoo/emacs.d/commit/8a51696">my setup at github</a>.
</p>
</div>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/commentuncomment-line-is-easy-in-emacs/">Comment/uncomment line(s) is easy in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-02-01T23:49:00+00:00">2013-02-01 23:49</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/commentuncomment-line-is-easy-in-emacs/#disqus_thread" data-disqus-identifier="cache/posts/commentuncomment-line-is-easy-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p>
It's easy if you use <a href="https://github.com/redguardtoo/evil-nerd-commenter">evil-nerd-commenter</a> because commenting/uncommenting line(s) is only pressing ",ci" in <code>evil-mode</code>.
</p>

<p>
You can also select text and press <code>M-;</code> to comment the lines in the region. If part of the line is not in the selected, the whole line will still be commented out. This saves your extra key pressing for moving cursor to the beginning of the first line or moving the cursor to the end of the last line.
</p>

<p>
The reason to make commenting efficient is that I need comment/uncomment code for debug purpose.
</p>

<p>
Some people say comment out the code is not a right way to debug. The right way is using debugger.
</p>

<p>
In some huge projects, debugger makes no sense for many reasons:
</p>

<ul class="org-ul">
<li>The debugger for that Domain Specific Language simply does not exist</li>
<li>Bugs can be reproduced <b>ONLY</b> on production server where debugger is not installed</li>
<li>Too much overhead to set up debugger</li>
</ul>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/fa-biao-yi-nian-chen-wei-emacs-gao-shou-man-yi-zhou-nian-de-gan-wu/">发表满一周年的感悟</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-01-30T21:00:00+00:00">2013-01-30 21:00</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/fa-biao-yi-nian-chen-wei-emacs-gao-shou-man-yi-zhou-nian-de-gan-wu/#disqus_thread" data-disqus-identifier="cache/posts/fa-biao-yi-nian-chen-wei-emacs-gao-shou-man-yi-zhou-nian-de-gan-wu.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/zh/" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>原创日期: <span class="timestamp-wrapper"> <span class="timestamp">2013-01-31 四</span></span> </p> <p> 2012年1月31日我写了<a href="http://blog.binchen.org/?p=268">一年成为Emacs高手(像神一样使用编辑器)</a> (后文简称&lt;一年&gt;),到今天(2013年1月31日)正好一周年. </p> <p> 这一年中,我不断地维护更新该文,力求能够反映最新社区咨询,解决读者的实际问题,这个过程本身使我受益匪浅. </p> <p> 最大的收获就是静下心来花时间把一件事情做到极致,对个人收获是最大的. </p> <p> 例如,我不断维护&lt;一年&gt;一文,使得这篇文章成为我所有文章中最受欢迎的文章,其评论数和读者私下联系我的次数超过了我所有其他文章的总和.很多读者还热心给我推荐了Emacs其他好用的功能(如插件<a href="https://github.com/dimitri/switch-window">switch-window</a>),学习这些功能靠我自己摸索可能要花大量的时间. </p> <p> 该文之所以能够受欢迎,我想主要是因为文章质量比较高,信息丰富.我的总结是,只有花大量时间,反复修改,才能写出高质量的文章.例如,&lt;一年成为Emacs高手&gt;我前前后后改了十多个版本,前后花了一年时间,最新版本是两天前更新的. </p> <p> 持之以恒的最大优点是可以达到很深的深度,获得不可替代性,而报酬(读者的赞扬回馈,我个人知识智力的增长)是和我钻研的深度成正比的. </p> <p> 例如,在反复修改&lt;一年&gt;一文中,我自己对于该文的中心思想认识越来越深刻了.该中心思想就是,一个人能够达到的高度,是由他的设的起点有多高决定的,而最好的起点就是世界级的顶尖高手.这个道理除了写博客和Emacs外,还可以应用到很多地方. </p> <p> 持之以恒的道理我从小都懂,但是在维护&lt;一年&gt;的过程我才算真正领悟了这个道理(纸面上知道不算知道,做了才算真正知道).就我个人来讲,主要是因为对自己的智力比较自负,总觉得追求有趣新奇的东西才配得上自己的天赋,对于已知的比较枯燥的小修小补的工作有点不屑一顾.事实上,修补完善的过程是很轻松的,不需要花太多时间精力,而获得的回报是巨大的.我要做得就是适当地抑制一下自己追新求变的热情. </p> <p> 接下来是我给读者的问题. </p> <p> <b>如果你一年前读过了&lt;一年成为Emacs高手&gt;,你现在是否成为了Emacs高手?你的一周年感悟是什么?</b> </p> <p> 无论你已经是高手了,或正在成为高手的路上,把你的感悟告诉我.我会汇总后发表在我的博客上. </p> <p> 这是我的<a href="https://twitter.com/#!/chen_bin">twitter</a>和<a href="https://plus.google.com/110954683162859211810">google plus</a>以及<a href="http://www.weibo.com/u/2453581630">微博</a>,也可以通过我的email&lt;chenbin DOT sh AT GMAIL DOT COM&gt;联系我.我也在新浪weibo.com上开通账号emacsguru. </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/open-url-in-emacs-with-external-browser/">Open url in Emacs with external browser</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-01-28T10:59:00+00:00">2013-01-28 10:59</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/open-url-in-emacs-with-external-browser/#disqus_thread" data-disqus-identifier="cache/posts/open-url-in-emacs-with-external-browser.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/browser/" rel="tag">browser</a></li>
           <li><a class="tag p-category" href="categories/elisp/" rel="tag">elisp</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Here is some handy elisp function which use browse-url-generic to open the url in external browser (firefox, for example). </p> <p> The key point is how to detect the url. If we are in w3m-mode, we will use the link under cursor or the URI of current web page. Or else, we will let browse-url-generic to detect the url. </p>    <pre class="src src-elisp">(<span style="color: #b5bd68;">defun</span> <span style="color: #81a2be;">w3mext-open-link-or-image-or-url</span> ()
  <span style="color: #b294bb;">"Opens the current link or image or current page's uri or any url-like text under cursor in firefox."</span>
  (interactive)
  (<span style="color: #b5bd68;">let</span> (url)
    (<span style="color: #b5bd68;">if</span> (string= major-mode <span style="color: #8abeb7;">"w3m-mode"</span>)
        (setq url (or (w3m-anchor) (w3m-image) w3m-current-url)))
    (browse-url-generic (<span style="color: #b5bd68;">if</span> url url (car (browse-url-interactive-arg <span style="color: #8abeb7;">"URL: "</span>))))
    ))
(global-set-key (kbd <span style="color: #8abeb7;">"C-c b"</span>) 'w3mext-open-link-or-image-or-url)
<p></p></pre>   <p> To specify the external browser like firefox, add below code into ~/.emacs: </p>   <pre class="src src-elisp"><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;"><code>C-h v browse-url-generic-program RET</code> to see the documentation</span>
<p><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;"><em>is-a-mac</em> and <em>linux</em> is the boolean constants defined by me</span></p>
<p>(setq browse-url-generic-program
      (<span style="color: #b5bd68;">cond</span>
       (<em>is-a-mac</em> <span style="color: #8abeb7;">"open"</span>)
       (<em>linux</em> (executable-find <span style="color: #8abeb7;">"firefox"</span>))
       ))
</p></pre>  </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/simplest-workflow-on-email-git-commit-in-emacs-no-magit-needed/">Simplest workflow on email git commit in Emacs (No magit needed)</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-01-27T15:51:00+00:00">2013-01-27 15:51</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/simplest-workflow-on-email-git-commit-in-emacs-no-magit-needed/#disqus_thread" data-disqus-identifier="cache/posts/simplest-workflow-on-email-git-commit-in-emacs-no-magit-needed.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/email/" rel="tag">email</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/git/" rel="tag">git</a></li>
           <li><a class="tag p-category" href="categories/patch/" rel="tag">patch</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Sometimes I just want to email my trivial patch to the original author and forget it. In this case "github fork" or "git format-patch" is too heavy weight for me. </p> <p> So here is the simplest workflow I can figure out: </p>
<ul>
<li>Step 1, command "M-x vc-dir" whose hotkey is "C-x v d" </li> <li>Step 2, command "M-x git-print-log" whose hotkey is "C-x v l" </li> <li>Step 3, Move focus to the specific commit and run command "M-x log-view-diff" whose hotkey is "d". </li> <li>Step 4, Yank the commit/diff </li> <li>Step 5, Compose new email (command "M-x compose-mail" whose hotkey is "C-x m") </li> <li>Step 6, Make sure the subject of email start with "[PATCH]". See <a href="http://linuxtv.org/wiki/index.php/Development:_How_to_submit_patches">this patch sumbit guide</a> for reasons. </li> <li>Step 7, Paste the content of commit/diff into email body. </li> <li>Step 8, Send the email by command "M-x message-send-and-exit" whose hotkey is "C-c C-c" </li> </ul>
<p> Please note: </p>
<ul>
<li>Step 1 is usually necessary unless you only need the diff of current file. </li> <li>Step 2 and step 3 could be replaced with command "M-x vc-diff" or hotkey "C-x v =" if you want to email the diff of work directory. </li> </ul>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/import-gmail-contacts-into-bbdb/">Import Gmail contacts into BBDB</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-01-26T11:56:00+00:00">2013-01-26 11:56</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/import-gmail-contacts-into-bbdb/#disqus_thread" data-disqus-identifier="cache/posts/import-gmail-contacts-into-bbdb.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/bbdb/" rel="tag">bbdb</a></li>
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/gmail/" rel="tag">gmail</a></li>
           <li><a class="tag p-category" href="categories/google/" rel="tag">google</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<ul>
<li>Go to <a href="http://contacts.google.com">http://contacts.google.com</a>, click the menu "More&gt;&gt;Export…&gt;&gt;vCard format (blah, blah …)". </li> <li>Click "Export" button. Download the contacts.vcf. </li> <li>Make sure <a href="https://github.com/trebb/bbdb-vcard">bbdb-vcard.el</a> installed. </li> <li>In Emacs run "M-x bbdb-vcard-import-file" and input the full path of contacts.vcf </li> <li>In Emacs run "M-x bbdb-save" </li> <li>Remove contacts whose names are empty. These are Google Plus people inserted automatically by Gmail: </li> </ul>
<p>Run the command in shell: </p>   <pre class="src src-sh"><span style="color: #969896; font-style: italic;"># </span><span style="color: #969896; font-style: italic;">the orginal ~/.bbdb will be saved as ~/.bbdb.bak</span>
sed -i.bak <span style="color: #70c0b1;">'/["" ""/d'</span> ~/.bbdb
<p></p></pre>  </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/search-the-word-under-cursor-in-stackoverflow-com-and-google-code-search/">Search at both stackoverflow and google code in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-01-23T09:18:00+00:00">2013-01-23 09:18</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/search-the-word-under-cursor-in-stackoverflow-com-and-google-code-search/#disqus_thread" data-disqus-identifier="cache/posts/search-the-word-under-cursor-in-stackoverflow-com-and-google-code-search.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en/" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/programming/" rel="tag">programming</a></li>
           <li><a class="tag p-category" href="categories/search/" rel="tag">search</a></li>
           <li><a class="tag p-category" href="categories/stackoverflow/" rel="tag">stackoverflow</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Two programming sites are most valuable to me: </p>
<dl>
<dt>stackoverflow.com</dt>
<dd>solution design and code prototype </dd> <dt>google code search</dt>
<dd>code sample from real product </dd> </dl>
<p> So I write some elisp code w3mext-hacker-search to automate the workflow. </p> <p> Copy the into ~/.emacs and you can use hotkey "C-c ; s" to open search results in external browser (firefox, for example): </p>   <pre class="src src-elisp"><span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">external browser should be firefox</span>
(setq browse-url-generic-program
      (<span style="color: #b9ca4a;">cond</span>
       (<em>is-a-mac</em> <span style="color: #70c0b1;">"open"</span>)
       (<em>linux</em> (executable-find <span style="color: #70c0b1;">"firefox"</span>))
       ))
<p><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">use external browser to search</span></p>
<p>(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">w3mext-hacker-search</span> ()
  <span style="color: #c397d8;">"search word under cursor in google code search and stackoverflow.com"</span>
  (interactive)
  (<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">w3m</span>)
  (<span style="color: #b9ca4a;">let</span> ((keyword (w3m-url-encode-string (thing-at-point 'symbol))))
    (browse-url-generic (concat <span style="color: #70c0b1;">"http://code.google.com/codesearch?q="</span> keyword))
    (browse-url-generic (concat <span style="color: #70c0b1;">"http://www.google.com.au/search?hl=en&amp;q="</span> keyword <span style="color: #70c0b1;">"+site:stackoverflow.com"</span> )))
  )</p>
<p>(add-hook 'prog-mode-hook '( lambda () (local-set-key (kbd <span style="color: #70c0b1;">"C-c ; s"</span>) 'w3mext-hacker-search)) )</p>
<p></p></pre>  </div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-8.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-6.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2020         <a href="mailto:chenbin.sh@gmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
         document.addEventListener('DOMContentLoaded', function() {
           var items = document.getElementsByClassName('timeago'), e, pd;
           for (var i = 0; i < items.length; i++) {
             e = items[i];
             pd = moment(new Date(e.getAttribute('datetime')));
             e.innerHTML = pd.fromNow();
             e.setAttribute('title', pd.format('LLLL'));
           }
         });
        </script>
</body>
</html>
